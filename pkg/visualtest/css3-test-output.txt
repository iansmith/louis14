=== RUN   TestWPTCSS3Reftests
    reftest_runner_test.go:129: Found 59 WPT CSS3 reftest files
=== RUN   TestWPTCSS3Reftests/css-flexbox/css-box-justify-content.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <p>
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [1]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("This test passes if ..."), Size: 564.0x12.0
       Text: "This test passes if the DIV5's..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("This test passes if ...")

[Fragment 0] 0: TEXT("This test passes if ...")
  Fragment Position: (0.0, 16.0), Size: 564.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "This test passes if the DIV5's..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 564.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [2]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 50.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("DIV1"), Size: 33.0x12.0
       Text: "DIV1"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("DIV1")

[Fragment 0] 0: TEXT("DIV1")
  Fragment Position: (0.0, 51.2), Size: 33.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "DIV1"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 33.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [3]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 50.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("DIV2"), Size: 35.0x12.0
       Text: "DIV2"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("DIV2")

[Fragment 0] 0: TEXT("DIV2")
  Fragment Position: (0.0, 51.2), Size: 35.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "DIV2"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 35.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [4]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 50.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("DIV3"), Size: 36.0x12.0
       Text: "DIV3"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("DIV3")

[Fragment 0] 0: TEXT("DIV3")
  Fragment Position: (0.0, 51.2), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "DIV3"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 36.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [5]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 50.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("DIV4"), Size: 36.0x12.0
       Text: "DIV4"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("DIV4")

[Fragment 0] 0: TEXT("DIV4")
  Fragment Position: (0.0, 51.2), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "DIV4"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 36.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [6]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 50.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("DIV5"), Size: 36.0x12.0
       Text: "DIV5"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("DIV5")

[Fragment 0] 0: TEXT("DIV5")
  Fragment Position: (0.0, 51.2), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "DIV5"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 36.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=0.0, collapsed=16.0, adjustment=0.0
DEBUG COLLAPSE: box.Y before=51.2, after=51.2
DEBUG adjustChildrenY: div delta=-0.0, 5 children
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 1 children
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="This test passes if the DIV5's position in the end and the div is Horizontal layout" at (0.0,16.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x40.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x1400011e280 tagName='div' pos=(0.0,51.2) size=300.0x40.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (50.0,51.2) size 50.0x30.0 bg=rgb(242, 210, 80) pos=static z=auto
DEBUG DRAW: Drawing <div> at (100.0,51.2) size 50.0x30.0 bg=rgb(110, 8, 7) pos=static z=auto
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 50.0x30.0 bg=rgb(215, 172, 243) pos=static z=auto
DEBUG DRAW: Drawing <div> at (200.0,51.2) size 50.0x30.0 bg=rgb(242, 133, 80) pos=static z=auto
DEBUG DRAW: Drawing <div> at (250.0,51.2) size 50.0x30.0 bg=rgb(242, 50, 80) pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (5 elements) ===
DEBUG TEXT: <> drawing textContent="DIV1" at (50.0,51.2)
DEBUG TEXT: <> drawing textContent="DIV2" at (100.0,51.2)
DEBUG TEXT: <> drawing textContent="DIV3" at (150.0,51.2)
DEBUG TEXT: <> drawing textContent="DIV4" at (200.0,51.2)
DEBUG TEXT: <> drawing textContent="DIV5" at (250.0,51.2)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (50.0,51.2) size 50.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (100.0,51.2) size 50.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (150.0,51.2) size 50.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (200.0,51.2) size 50.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (250.0,51.2) size 50.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <p>
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [7]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("This test passes if ..."), Size: 564.0x12.0
       Text: "This test passes if the DIV5's..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("This test passes if ...")

[Fragment 0] 0: TEXT("This test passes if ...")
  Fragment Position: (0.0, 16.0), Size: 564.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "This test passes if the DIV5's..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 564.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="This test passes if the DIV5's position in the end and the div is Horizontal layout" at (0.0,16.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x40.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x1400011e140 tagName='div' pos=(0.0,51.2) size=300.0x40.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (10 elements) ===
DEBUG RENDER: Rendering inline <div> at (0.0,51.2) size 50.0x30.0 bg=rgb(242, 210, 80) border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 50.0x30.0 bg=rgb(242, 210, 80) pos=static z=auto
DEBUG TEXT: <> drawing textContent="DIV1" at (0.0,51.2)
DEBUG RENDER: Rendering inline <div> at (50.0,51.2) size 50.0x30.0 bg=rgb(110, 8, 7) border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <div> at (50.0,51.2) size 50.0x30.0 bg=rgb(110, 8, 7) pos=static z=auto
DEBUG TEXT: <> drawing textContent="DIV2" at (50.0,51.2)
DEBUG RENDER: Rendering inline <div> at (100.0,51.2) size 50.0x30.0 bg=rgb(215, 172, 243) border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <div> at (100.0,51.2) size 50.0x30.0 bg=rgb(215, 172, 243) pos=static z=auto
DEBUG TEXT: <> drawing textContent="DIV3" at (100.0,51.2)
DEBUG RENDER: Rendering inline <div> at (150.0,51.2) size 50.0x30.0 bg=rgb(242, 133, 80) border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 50.0x30.0 bg=rgb(242, 133, 80) pos=static z=auto
DEBUG TEXT: <> drawing textContent="DIV4" at (150.0,51.2)
DEBUG RENDER: Rendering inline <div> at (200.0,51.2) size 50.0x30.0 bg=rgb(242, 50, 80) border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <div> at (200.0,51.2) size 50.0x30.0 bg=rgb(242, 50, 80) pos=static z=auto
DEBUG TEXT: <> drawing textContent="DIV5" at (200.0,51.2)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 128)
=== RUN   TestWPTCSS3Reftests/css-flexbox/css-flexbox-row.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [8]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 8][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [9]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 9][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [10]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Pass condition: 4 re..."), Size: 756.0x12.0
       Text: "Pass condition: 4 rectangles, ..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Pass condition: 4 re...")

[Fragment 0] 0: TEXT("Pass condition: 4 re...")
  Fragment Position: (0.0, 16.0), Size: 751.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Pass condition: 4 rectangles, ..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 751.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 9][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [11]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 396.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 15.0x45.0
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Atomic: <span>, Size: 15.0x45.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=2.0 Y=53.2 size 15.0x45.0
  Atomic box: X=2.0 Y=53.2 W=15.0 H=45.0 children=0

[Fragment 1] OpenTag: <br>
  Position: (15.0, 53.2), CurrentX: 17.0

[Fragment 2] Atomic inline-block: <span> at X=2.0 Y=53.2 size 15.0x45.0
  Atomic box: X=2.0 Y=53.2 W=15.0 H=45.0 children=0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=45.0, lastFinalizedH=0.0, finalH=45.0, boxes=2
DEBUG AUTO-HEIGHT: Final maxBottom=45.0, setting box.Height=45.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=30.0, totalWidth=30.0, availableWidth=396.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [12]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 396.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 15.0x45.0
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Atomic: <span>, Size: 15.0x45.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=2.0 Y=53.2 size 15.0x45.0
  Atomic box: X=2.0 Y=53.2 W=15.0 H=45.0 children=0

[Fragment 1] OpenTag: <br>
  Position: (15.0, 53.2), CurrentX: 17.0

[Fragment 2] Atomic inline-block: <span> at X=2.0 Y=53.2 size 15.0x45.0
  Atomic box: X=2.0 Y=53.2 W=15.0 H=45.0 children=0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=45.0, lastFinalizedH=0.0, finalH=45.0, boxes=2
DEBUG AUTO-HEIGHT: Final maxBottom=45.0, setting box.Height=45.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=30.0, totalWidth=30.0, availableWidth=396.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
  Result: Box at (0.0, 51.2) size 64.0x94.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 94.0 (margin.Top=0.0 + height=94.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 145.2
  Reset currentX to left edge: 0.0, currentLineY updated to 145.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=145.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
  Adjusted span child from Y=53.2 to Y=53.2
DEBUG adjustChildrenY: span delta=-0.0, 0 children
  Adjusted span child from Y=53.2 to Y=53.2
DEBUG adjustChildrenY: span delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
  Adjusted span child from Y=53.2 to Y=53.2
DEBUG adjustChildrenY: span delta=-0.0, 0 children
  Adjusted span child from Y=53.2 to Y=53.2
DEBUG adjustChildrenY: span delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=164.4, setting box.Height=164.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x164.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 164.4 (margin.Top=0.0 + height=164.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 164.4
  Reset currentX to left edge: 0.0, currentLineY updated to 164.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=164.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=164.4, setting box.Height=164.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 64.0x94.0 bg= pos=static z=auto
=== STEP 4: Floats (2 elements) ===
DEBUG DRAW: Drawing <div> at (2.0,53.2) size 30.0x90.0 bg= pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (2 elements) ===
DEBUG RENDER: Rendering inline <span> at (2.0,53.2) size 15.0x45.0 bg=orange border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (2.0,53.2) size 15.0x45.0 bg=orange pos=static z=auto
DEBUG COLOR: Parsed color for span: R=255 G=165 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.647 B=0.000 A=1.00
DEBUG COORDS: box.Y=53.2, effectiveY=53.2, scrollY=0.0
DEBUG SIZE: bgWidth=15.0, bgHeight=45.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(2.0, 53.2, 15.0, 45.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (9,75) = RGBA(255,165,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG RENDER: Rendering inline <span> at (2.0,53.2) size 15.0x45.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (2.0,53.2) size 15.0x45.0 bg=grey pos=static z=auto
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=53.2, effectiveY=53.2, scrollY=0.0
DEBUG SIZE: bgWidth=15.0, bgHeight=45.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(2.0, 53.2, 15.0, 45.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (9,75) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (32.0,53.2) size 30.0x90.0 bg= pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (2 elements) ===
DEBUG RENDER: Rendering inline <span> at (32.0,53.2) size 15.0x45.0 bg=blue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (32.0,53.2) size 15.0x45.0 bg=blue pos=static z=auto
DEBUG COLOR: Parsed color for span: R=0 G=0 B=255 A=1.00
DEBUG RENDER: Setting color R=0.000 G=0.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=53.2, effectiveY=53.2, scrollY=0.0
DEBUG SIZE: bgWidth=15.0, bgHeight=45.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(32.0, 53.2, 15.0, 45.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (39,75) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG RENDER: Rendering inline <span> at (32.0,53.2) size 15.0x45.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (32.0,53.2) size 15.0x45.0 bg=yellow pos=static z=auto
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=53.2, effectiveY=53.2, scrollY=0.0
DEBUG SIZE: bgWidth=15.0, bgHeight=45.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(32.0, 53.2, 15.0, 45.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (39,75) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Pass condition: 4 rectangles, with colors in clockwise order starting from top-left: grey, orange, blue, yellow." at (0.0,16.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x164.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 64.0x94.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [13]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 13][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [14]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Pass condition: 4 re..."), Size: 756.0x12.0
       Text: "Pass condition: 4 rectangles, ..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Pass condition: 4 re...")

[Fragment 0] 0: TEXT("Pass condition: 4 re...")
  Fragment Position: (0.0, 16.0), Size: 751.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Pass condition: 4 rectangles, ..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 751.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 13][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [15]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 30.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Float: <div>, Size: 15.0x19.2
  [1] Float: <div>, Size: 15.0x19.2
  [2] Float: <div>, Size: 15.0x19.2
  [3] Float: <div>, Size: 15.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=15.0 (marginBox=15.0)
    [positionFloat] Left float: <div>, leftOffset=15.0, floatX=15.0, width=15.0 (marginBox=15.0)
    [positionFloat] Left float: <div>, leftOffset=30.0, floatX=30.0, width=15.0 (marginBox=15.0)
    [positionFloat] Left float: <div>, leftOffset=45.0, floatX=45.0, width=15.0 (marginBox=15.0)
Fragments created: 4

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 53.2), Size: 15.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [16]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 15.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=15.0, totalWidth=15.0, availableWidth=15.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
  Correcting float position: (0.0,53.2) → (2.0,53.2) delta=(2.0,0.0)
  Float box at (2.0, 53.2) size 15.0x45.0

[Fragment 1] Float: <div>
  Fragment Position: (15.0, 53.2), Size: 15.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [17]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 15.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=15.0, totalWidth=15.0, availableWidth=15.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
  Correcting float position: (15.0,53.2) → (17.0,53.2) delta=(2.0,0.0)
  Float box at (17.0, 53.2) size 15.0x45.0

[Fragment 2] Float: <div>
  Fragment Position: (30.0, 53.2), Size: 15.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [18]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 15.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=15.0, totalWidth=15.0, availableWidth=15.0, floatBase=2, nFloats=2
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
  Correcting float position: (30.0,53.2) → (32.0,53.2) delta=(2.0,0.0)
  Float box at (32.0, 53.2) size 15.0x45.0

[Fragment 3] Float: <div>
  Fragment Position: (45.0, 53.2), Size: 15.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=53.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [19]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 53.2, AvailableWidth: 15.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=53.2, box.Width=15.0, totalWidth=15.0, availableWidth=15.0, floatBase=3, nFloats=3
DEBUG FLOAT-POS [div]: getFloatDropY returned 53.2 (was box.Y=53.2)
  Correcting float position: (45.0,53.2) → (47.0,53.2) delta=(2.0,0.0)
  Float box at (47.0, 53.2) size 15.0x45.0

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=53.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=4
  Result: Box at (0.0, 51.2) size 34.0x94.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 94.0 (margin.Top=0.0 + height=94.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 145.2
  Reset currentX to left edge: 0.0, currentLineY updated to 145.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=145.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 4 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: p delta=-16.0, 1 children
DEBUG adjustChildrenY: div delta=-16.0, 4 children
DEBUG adjustChildrenY: div delta=-16.0, 0 children
DEBUG adjustChildrenY: div delta=-16.0, 0 children
DEBUG adjustChildrenY: div delta=-16.0, 0 children
DEBUG adjustChildrenY: div delta=-16.0, 0 children
DEBUG adjustChildrenY: p delta=16.0, 1 children
DEBUG adjustChildrenY: div delta=16.0, 4 children
DEBUG adjustChildrenY: div delta=16.0, 0 children
DEBUG adjustChildrenY: div delta=16.0, 0 children
DEBUG adjustChildrenY: div delta=16.0, 0 children
DEBUG adjustChildrenY: div delta=16.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=129.2, setting box.Height=129.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 34.0x94.0 bg= pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Pass condition: 4 rectangles, with colors in clockwise order starting from top-left: grey, orange, blue, yellow." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 34.0x94.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (2.0,53.2) size 15.0x45.0 bg=grey pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (17.0,53.2) size 15.0x45.0 bg=orange pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (32.0,53.2) size 15.0x45.0 bg=yellow pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (47.0,53.2) size 15.0x45.0 bg=blue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 1526/160000 pixels differ (1.0%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/css-flexbox-row_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/css-flexbox-test1.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [20]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 20][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [21]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 21][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [22]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("The test passes if y..."), Size: 741.0x12.0
       Text: "The test passes if you see a t..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("The test passes if y...")

[Fragment 0] 0: TEXT("The test passes if y...")
  Fragment Position: (0.0, 16.0), Size: 741.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "The test passes if you see a t..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 741.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 21][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=absolute
DEBUG LAYOUT POS2: div position=absolute (absolute)

=== MULTI-PASS [23]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT END: red div returning with Y=0.0
  Result: Box at (0.0, 0.0) size 48.0x144.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 144.0 (margin.Top=0.0 + height=144.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 195.2
  [Fragment 1] Out-of-flow element (Position=absolute, Float=none), NOT advancing currentY (stays at 51.2)

[Call 21][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=51.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [24]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("１２３"), Size: 25.0x12.0
       Text: "１２３"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("１２３"), Size: 25.0x12.0
       Text: "１２３"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("１２３")

[Fragment 0] 0: TEXT("１２３")
  Fragment Position: (0.0, 51.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "１２３"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 51.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("１２３")

[Fragment 2] 0: TEXT("１２３")
  Fragment Position: (0.0, 70.4), Size: 25.0x12.0
  Line break: Y 51.2 → 70.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "１２３"
  Final Box Position: (0.0, 70.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=70.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG FLOAT-POS [div]: box.Y=51.2, box.Width=48.0, totalWidth=48.0, availableWidth=400.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 51.2 (was box.Y=51.2)
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=51.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [25]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("４５６"), Size: 25.0x12.0
       Text: "４５６"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("４５６"), Size: 25.0x12.0
       Text: "４５６"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("４５６")

[Fragment 0] 0: TEXT("４５６")
  Fragment Position: (0.0, 51.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "４５６"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 51.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("４５６")

[Fragment 2] 0: TEXT("４５６")
  Fragment Position: (0.0, 70.4), Size: 25.0x12.0
  Line break: Y 51.2 → 70.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "４５６"
  Final Box Position: (0.0, 70.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=70.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG FLOAT-POS [div]: box.Y=51.2, box.Width=48.0, totalWidth=48.0, availableWidth=400.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 51.2 (was box.Y=51.2)
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=51.2 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [26]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("７８９"), Size: 25.0x12.0
       Text: "７８９"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("７８９"), Size: 25.0x12.0
       Text: "７８９"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("７８９")

[Fragment 0] 0: TEXT("７８９")
  Fragment Position: (0.0, 51.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "７８９"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 51.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("７８９")

[Fragment 2] 0: TEXT("７８９")
  Fragment Position: (0.0, 70.4), Size: 25.0x12.0
  Line break: Y 51.2 → 70.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "７８９"
  Final Box Position: (0.0, 70.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=70.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG FLOAT-POS [div]: box.Y=51.2, box.Width=48.0, totalWidth=48.0, availableWidth=400.0, floatBase=2, nFloats=2
DEBUG FLOAT-POS [div]: getFloatDropY returned 51.2 (was box.Y=51.2)
  Result: Box at (0.0, 51.2) size 144.0x48.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 48.0 (margin.Top=0.0 + height=48.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 99.2
  Reset currentX to left edge: 0.0, currentLineY updated to 99.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=99.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 3 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG AUTO-HEIGHT: Final maxBottom=118.4, setting box.Height=118.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x118.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 118.4 (margin.Top=0.0 + height=118.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 118.4
  Reset currentX to left edge: 0.0, currentLineY updated to 118.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=118.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=118.4, setting box.Height=118.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (1 elements) ===
DEBUG RENDER Y: red div box.Y=0.0 effectiveY=0.0 scrollY=0.0
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 48.0x144.0 bg=red pos=absolute z=-1
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 144.0x48.0 bg= pos=static z=auto
=== STEP 4: Floats (3 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000e6780 tagName='div' pos=(0.0,51.2) size=48.0x48.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (2 elements) ===
GREEN BACKGROUND: box 0x140000e68c0 tagName='' pos=(0.0,51.2) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="１２３" at (0.0,51.2)
GREEN BACKGROUND: box 0x140000e6a00 tagName='' pos=(0.0,70.4) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="１２３" at (0.0,70.4)
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (48.0,51.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000e6b40 tagName='div' pos=(48.0,51.2) size=48.0x48.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (2 elements) ===
GREEN BACKGROUND: box 0x140000e6c80 tagName='' pos=(48.0,51.2) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="４５６" at (48.0,51.2)
GREEN BACKGROUND: box 0x140000e6dc0 tagName='' pos=(48.0,70.4) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="４５６" at (48.0,70.4)
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (96.0,51.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000e6f00 tagName='div' pos=(96.0,51.2) size=48.0x48.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (2 elements) ===
GREEN BACKGROUND: box 0x140000e7040 tagName='' pos=(96.0,51.2) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="７８９" at (96.0,51.2)
GREEN BACKGROUND: box 0x140000e7180 tagName='' pos=(96.0,70.4) size=25.0x12.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG TEXT: <> drawing textContent="７８９" at (96.0,70.4)
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="The test passes if you see a tall green box with pairs of the digits 1-9 listed top to bottom in two columns." at (0.0,16.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x118.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 144.0x48.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [27]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 27][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [28]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 28][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [29]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("The test passes if y..."), Size: 741.0x12.0
       Text: "The test passes if you see a t..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("The test passes if y...")

[Fragment 0] 0: TEXT("The test passes if y...")
  Fragment Position: (0.0, 16.0), Size: 741.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "The test passes if you see a t..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 741.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 28][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [30]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 30][Fragment 0] BlockChild: <div>
  Fragment Y: 51.2, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [31]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("１２３"), Size: 25.0x12.0
       Text: "１２３"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("１２３"), Size: 25.0x12.0
       Text: "１２３"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("１２３")

[Fragment 0] 0: TEXT("１２３")
  Fragment Position: (0.0, 51.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "１２３"
  Final Box Position: (0.0, 51.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 51.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("１２３")

[Fragment 2] 0: TEXT("１２３")
  Fragment Position: (0.0, 70.4), Size: 25.0x12.0
  Line break: Y 51.2 → 70.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "１２３"
  Final Box Position: (0.0, 70.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=70.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=, curr=, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
  Result: Box at (0.0, 51.2) size 48.0x48.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 48.0 (margin.Top=0.0 + height=48.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 99.2
  Reset currentX to left edge: 0.0, currentLineY updated to 99.2

[Call 30][Fragment 1] BlockChild: <div>
  Fragment Y: 51.2, CurrentY (after line finalize): 99.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=99.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [32]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 99.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("４５６"), Size: 25.0x12.0
       Text: "４５６"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("４５６"), Size: 25.0x12.0
       Text: "４５６"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("４５６")

[Fragment 0] 0: TEXT("４５６")
  Fragment Position: (0.0, 99.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "４５６"
  Final Box Position: (0.0, 99.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 99.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("４５６")

[Fragment 2] 0: TEXT("４５６")
  Fragment Position: (0.0, 118.4), Size: 25.0x12.0
  Line break: Y 99.2 → 118.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "４５６"
  Final Box Position: (0.0, 118.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=118.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=, curr=, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
  Result: Box at (0.0, 99.2) size 48.0x48.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 48.0 (margin.Top=0.0 + height=48.0 + margin.Bottom=0.0), Advancing currentY: 99.2 → 147.2
  Reset currentX to left edge: 0.0, currentLineY updated to 147.2

[Call 30][Fragment 2] BlockChild: <div>
  Fragment Y: 51.2, CurrentY (after line finalize): 147.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=147.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [33]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 147.2, AvailableWidth: 48.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Text: TEXT("７８９"), Size: 25.0x12.0
       Text: "７８９"
  [1] Type5: <br>, Size: 0.0x0.0
  [2] Text: TEXT("７８９"), Size: 25.0x12.0
       Text: "７８９"
=== END PHASE 1 ===

Fragments created: 3

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("７８９")

[Fragment 0] 0: TEXT("７８９")
  Fragment Position: (0.0, 147.2), Size: 25.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "７８９"
  Final Box Position: (0.0, 147.2), currentLineMaxH: 19.2
  Updated currentX: 25.0

[Fragment 1] OpenTag: <br>
  Position: (25.0, 147.2), CurrentX: 25.0

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("７８９")

[Fragment 2] 0: TEXT("７８９")
  Fragment Position: (0.0, 166.4), Size: 25.0x12.0
  Line break: Y 147.2 → 166.4, advancing by 19.2 (content=12.0, lineBox=19.2)
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "７８９"
  Final Box Position: (0.0, 166.4), currentLineMaxH: 19.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=166.4, currentLineMaxH=19.2, lastFinalizedH=19.2, finalH=19.2, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=, curr=, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
  Result: Box at (0.0, 147.2) size 48.0x48.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 48.0 (margin.Top=0.0 + height=48.0 + margin.Bottom=0.0), Advancing currentY: 147.2 → 195.2
  Reset currentX to left edge: 0.0, currentLineY updated to 195.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=195.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG AUTO-HEIGHT: Final maxBottom=144.0, setting box.Height=144.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 51.2) size 400.0x144.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 144.0 (margin.Top=0.0 + height=144.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 195.2
  Reset currentX to left edge: 0.0, currentLineY updated to 195.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=195.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 3 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG AUTO-HEIGHT: Final maxBottom=195.2, setting box.Height=195.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x195.2
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 195.2 (margin.Top=0.0 + height=195.2 + margin.Bottom=0.0), Advancing currentY: 0.0 → 195.2
  Reset currentX to left edge: 0.0, currentLineY updated to 195.2

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=195.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=195.2, setting box.Height=195.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (6 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 400.0x144.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000c0640 tagName='div' pos=(0.0,51.2) size=48.0x48.0
DEBUG DRAW: Drawing <div> at (0.0,99.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000c0a00 tagName='div' pos=(0.0,99.2) size=48.0x48.0
DEBUG DRAW: Drawing <div> at (0.0,147.2) size 48.0x48.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140000c0dc0 tagName='div' pos=(0.0,147.2) size=48.0x48.0
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (7 elements) ===
DEBUG TEXT: <> drawing textContent="The test passes if you see a tall green box with pairs of the digits 1-9 listed top to bottom in two columns." at (0.0,16.0)
GREEN BACKGROUND: box 0x140000c0780 tagName='' pos=(0.0,51.2) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="１２３" at (0.0,51.2)
GREEN BACKGROUND: box 0x140000c08c0 tagName='' pos=(0.0,70.4) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="１２３" at (0.0,70.4)
GREEN BACKGROUND: box 0x140000c0b40 tagName='' pos=(0.0,99.2) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="４５６" at (0.0,99.2)
GREEN BACKGROUND: box 0x140000c0c80 tagName='' pos=(0.0,118.4) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="４５６" at (0.0,118.4)
GREEN BACKGROUND: box 0x140000c0f00 tagName='' pos=(0.0,147.2) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="７８９" at (0.0,147.2)
GREEN BACKGROUND: box 0x140000c1040 tagName='' pos=(0.0,166.4) size=25.0x12.0
DEBUG TEXT: <> drawing textContent="７８９" at (0.0,166.4)
=== STEP 5 continued: Block content (6 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x195.2
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 400.0x144.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 48.0x48.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,99.2) size 48.0x48.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,147.2) size 48.0x48.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 11487/160000 pixels differ (7.2%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/css-flexbox-test1_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/flex-grow-001.xht
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [34]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 34][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [35]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 1
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 35][Fragment 0] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='container'>
DEBUG CSS: div id='container' position=static
DEBUG LAYOUT START: layoutNode called for <div id='child_1'>
DEBUG CSS: div id='child_1' position=static

=== MULTI-PASS [36]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='child_2'>
DEBUG CSS: div id='child_2' position=static

=== MULTI-PASS [37]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='child_3'>
DEBUG CSS: div id='child_3' position=static

=== MULTI-PASS [38]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 0.0) size 242.0x62.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 62.0 (margin.Top=0.0 + height=62.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 62.0
  Reset currentX to left edge: 0.0, currentLineY updated to 62.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=62.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=81.2, setting box.Height=81.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x81.2
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 81.2 (margin.Top=0.0 + height=81.2 + margin.Bottom=0.0), Advancing currentY: 0.0 → 81.2
  Reset currentX to left edge: 0.0, currentLineY updated to 81.2

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=81.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=81.2, setting box.Height=81.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 242.0x62.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,1.0) size 30.0x60.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x1400020e3c0 tagName='div' pos=(1.0,1.0) size=30.0x60.0
DEBUG DRAW: Drawing <div> at (31.0,1.0) size 80.0x60.0 bg=blue pos=static z=auto
DEBUG DRAW: Drawing <div> at (111.0,1.0) size 130.0x60.0 bg=gray pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x81.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,0.0) size 242.0x62.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,1.0) size 30.0x60.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (31.0,1.0) size 80.0x60.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (111.0,1.0) size 130.0x60.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [39]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 39][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [40]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 40][Fragment 0] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='container'>
DEBUG CSS: div id='container' position=static

=== MULTI-PASS [41]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 240.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Float: <div>, Size: 30.0x19.2
  [1] Float: <div>, Size: 80.0x19.2
  [2] Float: <div>, Size: 130.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=30.0, floatX=30.0, width=80.0 (marginBox=80.0)
    [positionFloat] Left float: <div>, leftOffset=110.0, floatX=110.0, width=130.0 (marginBox=130.0)
Fragments created: 3

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 1.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='child_1'>
DEBUG FLOAT-Y [div]: initial y=1.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='child_1' position=static

=== MULTI-PASS [42]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1.0, box.Width=30.0, totalWidth=30.0, availableWidth=30.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 1.0 (was box.Y=1.0)
  Correcting float position: (0.0,1.0) → (1.0,1.0) delta=(1.0,0.0)
  Float box at (1.0, 1.0) size 30.0x60.0

[Fragment 1] Float: <div>
  Fragment Position: (30.0, 1.0), Size: 80.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='child_2'>
DEBUG FLOAT-Y [div]: initial y=1.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='child_2' position=static

=== MULTI-PASS [43]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 80.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1.0, box.Width=80.0, totalWidth=80.0, availableWidth=80.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 1.0 (was box.Y=1.0)
  Correcting float position: (30.0,1.0) → (31.0,1.0) delta=(1.0,0.0)
  Float box at (31.0, 1.0) size 80.0x60.0

[Fragment 2] Float: <div>
  Fragment Position: (110.0, 1.0), Size: 130.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='child_3'>
DEBUG FLOAT-Y [div]: initial y=1.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='child_3' position=static

=== MULTI-PASS [44]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 130.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1.0, box.Width=130.0, totalWidth=130.0, availableWidth=130.0, floatBase=2, nFloats=2
DEBUG FLOAT-POS [div]: getFloatDropY returned 1.0 (was box.Y=1.0)
  Correcting float position: (110.0,1.0) → (111.0,1.0) delta=(1.0,0.0)
  Float box at (111.0, 1.0) size 130.0x60.0

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
  Result: Box at (0.0, 0.0) size 242.0x62.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 62.0 (margin.Top=0.0 + height=62.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 62.0
  Reset currentX to left edge: 0.0, currentLineY updated to 62.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=62.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=62.0, setting box.Height=62.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x62.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 62.0 (margin.Top=0.0 + height=62.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 62.0
  Reset currentX to left edge: 0.0, currentLineY updated to 62.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=62.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=62.0, setting box.Height=62.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 242.0x62.0 bg= pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x62.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,0.0) size 242.0x62.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (1.0,1.0) size 30.0x60.0 bg=green pos=absolute z=auto
GREEN BACKGROUND: box 0x1400020eb40 tagName='div' pos=(1.0,1.0) size=30.0x60.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (31.0,1.0) size 80.0x60.0 bg=blue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (111.0,1.0) size 130.0x60.0 bg=gray pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-column-row-gap-001.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [45]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 45][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [46]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2

=== PHASE 1: Collected 2 items ===
  [0] Float: <div>, Size: 200.0x19.2
  [1] Float: <div>, Size: 200.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=200.0 (marginBox=200.0)
    [positionFloat] Left float: <div>, leftOffset=200.0, floatX=200.0, width=200.0 (marginBox=200.0)
Fragments created: 2

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 0.0), Size: 200.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [47]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [48]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [49]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [50]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [51]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [52]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Float box at (0.0, 0.0) size 202.0x222.0

[Fragment 1] Float: <div>
  Fragment Position: (200.0, 0.0), Size: 200.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [53]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [54]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [55]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [56]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [57]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [58]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Float box at (200.0, 0.0) size 202.0x222.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x0.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 0.0 (margin.Top=0.0 + height=0.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 0.0
  Reset currentX to left edge: 0.0, currentLineY updated to 0.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x0.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 202.0x222.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (6 elements) ===
DEBUG DRAW: Drawing <div> at (3.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (58.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (113.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (168.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (121.0,161.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (171.0,161.0) size 30.0x30.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (6 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (3.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (58.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (113.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (168.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (121.0,161.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (171.0,161.0) size 30.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (200.0,0.0) size 202.0x222.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (6 elements) ===
DEBUG DRAW: Drawing <div> at (231.0,9.3) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (231.0,96.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (231.0,182.7) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (341.0,1.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (341.0,71.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (341.0,141.0) size 30.0x30.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (6 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,9.3) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,96.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,182.7) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (341.0,1.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (341.0,71.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (341.0,141.0) size 30.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [59]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 59][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [60]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2

=== PHASE 1: Collected 2 items ===
  [0] Float: <div>, Size: 200.0x19.2
  [1] Float: <div>, Size: 200.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=200.0 (marginBox=200.0)
    [positionFloat] Left float: <div>, leftOffset=200.0, floatX=200.0, width=200.0 (marginBox=200.0)
Fragments created: 2

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 0.0), Size: 200.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [61]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 200.0
Children count: 2
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 61][Fragment 0] BlockChild: <div>
  Fragment Y: 1.0, CurrentY (after line finalize): 1.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=1.0, availWidth=200.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [62]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 32.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=32.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [63]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 32.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=32.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [64]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 32.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=32.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [65]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 32.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=32.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 31.0) size 200.0x30.0
  Margins: T=30.0 R=0.0 B=100.0 L=0.0
  [Fragment 0] TotalHeight: 160.0 (margin.Top=30.0 + height=30.0 + margin.Bottom=100.0), Advancing currentY: 1.0 → 161.0
  Reset currentX to left edge: 1.0, currentLineY updated to 161.0

[Call 61][Fragment 1] BlockChild: <div>
  Fragment Y: 1.0, CurrentY (after line finalize): 161.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=161.0, availWidth=200.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [66]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 162.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=162.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [67]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 162.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=162.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 161.0) size 200.0x30.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 30.0 (margin.Top=0.0 + height=30.0 + margin.Bottom=0.0), Advancing currentY: 161.0 → 191.0
  Reset currentX to left edge: 1.0, currentLineY updated to 191.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=191.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=100.0, currTop=0.0, collapsed=100.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG FLOAT-POS [div]: box.Y=0.0, box.Width=202.0, totalWidth=204.0, availableWidth=200.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 100.0 (was box.Y=0.0)
  Correcting float position: (0.0,100.0) → (0.0,0.0) delta=(0.0,-100.0)
  Float box at (0.0, 0.0) size 202.0x222.0

[Fragment 1] Float: <div>
  Fragment Position: (200.0, 0.0), Size: 200.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [68]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 200.0
Children count: 2

=== PHASE 1: Collected 2 items ===
  [0] Float: <div>, Size: 28.0x19.2
  [1] Float: <div>, Size: 28.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=28.0 (marginBox=138.0)
    [positionFloat] Left float: <div>, leftOffset=138.0, floatX=138.0, width=28.0 (marginBox=28.0)
Fragments created: 2

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 1.0), Size: 28.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [69]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [70]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [71]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Correcting float position: (30.0,1.0) → (231.0,1.0) delta=(201.0,0.0)
  Float box at (231.0, 1.0) size 30.0x220.0

[Fragment 1] Float: <div>
  Fragment Position: (138.0, 1.0), Size: 28.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [72]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [73]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [74]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 28.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Correcting float position: (138.0,1.0) → (339.0,1.0) delta=(201.0,0.0)
  Float box at (339.0, 1.0) size 30.0x220.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG FLOAT-POS [div]: box.Y=0.0, box.Width=202.0, totalWidth=204.0, availableWidth=200.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 423.0 (was box.Y=0.0)
  Correcting float position: (200.0,423.0) → (200.0,0.0) delta=(0.0,-423.0)
  Float box at (200.0, 0.0) size 202.0x222.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x0.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 0.0 (margin.Top=0.0 + height=0.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 0.0
  Reset currentX to left edge: 0.0, currentLineY updated to 0.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x0.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 202.0x222.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (8 elements) ===
DEBUG DRAW: Drawing <div> at (1.0,31.0) size 200.0x30.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (3.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (58.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (113.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (168.5,31.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,161.0) size 200.0x30.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (121.0,161.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (171.0,161.0) size 30.0x30.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (8 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,31.0) size 200.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (3.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (58.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (113.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (168.5,31.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,161.0) size 200.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (121.0,161.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (171.0,161.0) size 30.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (200.0,0.0) size 202.0x222.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (231.0,1.0) size 30.0x220.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (231.0,9.3) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (231.0,96.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (231.0,182.7) size 30.0x30.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,9.3) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,96.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (231.0,182.7) size 30.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (339.0,1.0) size 30.0x220.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (339.0,1.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (339.0,71.0) size 30.0x30.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (339.0,141.0) size 30.0x30.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (339.0,1.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (339.0,71.0) size 30.0x30.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (339.0,141.0) size 30.0x30.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 255)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-flex-wrap-horiz-001.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [75]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 75][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [76]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 10
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 10 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
  [3] BlockChild: <div>, Size: 0.0x0.0
  [4] BlockChild: <div>, Size: 0.0x0.0
  [5] BlockChild: <div>, Size: 0.0x0.0
  [6] BlockChild: <div>, Size: 0.0x0.0
  [7] BlockChild: <div>, Size: 0.0x0.0
  [8] BlockChild: <div>, Size: 0.0x0.0
  [9] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 10

[Call 76][Fragment 0] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [77]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 0.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 0] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 0.0 → 16.0
  Reset currentX to left edge: 0.0, currentLineY updated to 16.0

[Call 76][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 16.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=16.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [78]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 18.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=18.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 16.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 1] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 16.0 → 32.0
  Reset currentX to left edge: 0.0, currentLineY updated to 32.0

[Call 76][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 32.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=32.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [79]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 34.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=34.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 32.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 2] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 32.0 → 48.0
  Reset currentX to left edge: 0.0, currentLineY updated to 48.0

[Call 76][Fragment 3] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 48.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=48.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [80]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 50.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=50.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [81]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 50.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=50.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 48.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 3] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 48.0 → 64.0
  Reset currentX to left edge: 0.0, currentLineY updated to 64.0

[Call 76][Fragment 4] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 64.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=64.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [82]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 66.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=66.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [83]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 66.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=66.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 64.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 4] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 64.0 → 80.0
  Reset currentX to left edge: 0.0, currentLineY updated to 80.0

[Call 76][Fragment 5] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 80.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=80.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [84]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 82.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=82.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [85]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 82.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=82.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 80.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 5] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 80.0 → 96.0
  Reset currentX to left edge: 0.0, currentLineY updated to 96.0

[Call 76][Fragment 6] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 96.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=96.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [86]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 98.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=98.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 96.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 6] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 96.0 → 112.0
  Reset currentX to left edge: 0.0, currentLineY updated to 112.0

[Call 76][Fragment 7] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 112.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=112.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [87]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 114.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=114.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 112.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 7] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 112.0 → 128.0
  Reset currentX to left edge: 0.0, currentLineY updated to 128.0

[Call 76][Fragment 8] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 128.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=128.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [88]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 130.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=130.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [89]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 130.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=130.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 128.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 8] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 128.0 → 144.0
  Reset currentX to left edge: 0.0, currentLineY updated to 144.0

[Call 76][Fragment 9] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 144.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=144.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [90]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 146.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=146.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [91]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 146.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=146.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 144.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 9] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 144.0 → 160.0
  Reset currentX to left edge: 0.0, currentLineY updated to 160.0

Total boxes created: 10
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=160.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=10
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=179.2, setting box.Height=179.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x179.2
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 0] TotalHeight: 181.2 (margin.Top=0.0 + height=179.2 + margin.Bottom=2.0), Advancing currentY: 0.0 → 181.2
  Reset currentX to left edge: 0.0, currentLineY updated to 181.2

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=181.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=179.2, setting box.Height=179.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (26 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,1.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (81.0,17.0) size 20.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,32.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (81.0,33.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,48.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,49.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (51.0,49.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,64.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,65.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,71.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,80.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,81.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,87.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,96.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,97.0) size 100.0x12.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,112.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,113.0) size 150.0x12.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,128.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,129.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,135.0) size 100.0x6.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,144.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,145.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,151.0) size 150.0x6.0 bg=fuchsia pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (26 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x179.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,0.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,1.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,16.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (81.0,17.0) size 20.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,32.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (81.0,33.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,48.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,49.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (51.0,49.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,64.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,65.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,71.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,80.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,81.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,87.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,96.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,97.0) size 100.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,112.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,113.0) size 150.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,128.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,129.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,135.0) size 100.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,144.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,145.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,151.0) size 150.0x6.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [92]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 92][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [93]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 10
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 10 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
  [3] BlockChild: <div>, Size: 0.0x0.0
  [4] BlockChild: <div>, Size: 0.0x0.0
  [5] BlockChild: <div>, Size: 0.0x0.0
  [6] BlockChild: <div>, Size: 0.0x0.0
  [7] BlockChild: <div>, Size: 0.0x0.0
  [8] BlockChild: <div>, Size: 0.0x0.0
  [9] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 10

[Call 93][Fragment 0] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [94]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 100.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 94][Fragment 0] BlockChild: <div>
  Fragment Y: 1.0, CurrentY (after line finalize): 1.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=1.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [95]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 1.0) size 50.0x12.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 12.0 (margin.Top=0.0 + height=12.0 + margin.Bottom=0.0), Advancing currentY: 1.0 → 13.0
  Reset currentX to left edge: 1.0, currentLineY updated to 13.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=13.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
  Result: Box at (0.0, 0.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 0] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 0.0 → 16.0
  Reset currentX to left edge: 0.0, currentLineY updated to 16.0

[Call 93][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 16.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=16.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [96]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 100.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 96][Fragment 0] BlockChild: <div>
  Fragment Y: 17.0, CurrentY (after line finalize): 17.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=17.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [97]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 18.0, AvailableWidth: 18.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=18.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (81.0, 17.0) size 20.0x12.0
  Margins: T=0.0 R=0.0 B=0.0 L=80.0
  [Fragment 0] TotalHeight: 12.0 (margin.Top=0.0 + height=12.0 + margin.Bottom=0.0), Advancing currentY: 17.0 → 29.0
  Reset currentX to left edge: 1.0, currentLineY updated to 29.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=29.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
  Result: Box at (0.0, 16.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 1] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 16.0 → 32.0
  Reset currentX to left edge: 0.0, currentLineY updated to 32.0

[Call 93][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 32.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=32.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [98]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 33.0, AvailableWidth: 100.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 98][Fragment 0] BlockChild: <div>
  Fragment Y: 33.0, CurrentY (after line finalize): 33.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=33.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [99]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 34.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=34.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (81.0, 33.0) size 50.0x12.0
  Margins: T=0.0 R=0.0 B=0.0 L=80.0
  [Fragment 0] TotalHeight: 12.0 (margin.Top=0.0 + height=12.0 + margin.Bottom=0.0), Advancing currentY: 33.0 → 45.0
  Reset currentX to left edge: 1.0, currentLineY updated to 45.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=45.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
  Result: Box at (0.0, 32.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 2] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 32.0 → 48.0
  Reset currentX to left edge: 0.0, currentLineY updated to 48.0

[Call 93][Fragment 3] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 48.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=48.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [100]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 49.0, AvailableWidth: 100.0
Children count: 2

=== PHASE 1: Collected 2 items ===
  [0] Float: <div>, Size: 48.0x19.2
  [1] Float: <div>, Size: 48.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=48.0 (marginBox=48.0)
    [positionFloat] Left float: <div>, leftOffset=48.0, floatX=48.0, width=48.0 (marginBox=48.0)
Fragments created: 2

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 49.0), Size: 48.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=49.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [101]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 50.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=50.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=49.0, box.Width=50.0, totalWidth=52.0, availableWidth=48.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 149.0 (was box.Y=49.0)
  Correcting float position: (0.0,149.0) → (1.0,49.0) delta=(1.0,-100.0)
  Float box at (1.0, 49.0) size 50.0x12.0

[Fragment 1] Float: <div>
  Fragment Position: (48.0, 49.0), Size: 48.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=49.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [102]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 50.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=50.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=49.0, box.Width=50.0, totalWidth=52.0, availableWidth=48.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 262.0 (was box.Y=49.0)
  Correcting float position: (48.0,262.0) → (49.0,49.0) delta=(1.0,-213.0)
  Float box at (49.0, 49.0) size 50.0x12.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=49.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
  Result: Box at (0.0, 48.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 3] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 48.0 → 64.0
  Reset currentX to left edge: 0.0, currentLineY updated to 64.0

[Call 93][Fragment 4] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 64.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=64.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [103]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 65.0, AvailableWidth: 100.0
Children count: 2
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 103][Fragment 0] BlockChild: <div>
  Fragment Y: 65.0, CurrentY (after line finalize): 65.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=65.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [104]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 66.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=66.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 65.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 65.0 → 71.0
  Reset currentX to left edge: 1.0, currentLineY updated to 71.0

[Call 103][Fragment 1] BlockChild: <div>
  Fragment Y: 65.0, CurrentY (after line finalize): 71.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=71.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [105]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 72.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=72.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 71.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 71.0 → 77.0
  Reset currentX to left edge: 1.0, currentLineY updated to 77.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=77.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
  Result: Box at (0.0, 64.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 4] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 64.0 → 80.0
  Reset currentX to left edge: 0.0, currentLineY updated to 80.0

[Call 93][Fragment 5] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 80.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=80.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [106]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 81.0, AvailableWidth: 100.0
Children count: 2
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 106][Fragment 0] BlockChild: <div>
  Fragment Y: 81.0, CurrentY (after line finalize): 81.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=81.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [107]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 82.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=82.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 81.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 81.0 → 87.0
  Reset currentX to left edge: 1.0, currentLineY updated to 87.0

[Call 106][Fragment 1] BlockChild: <div>
  Fragment Y: 81.0, CurrentY (after line finalize): 87.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=87.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [108]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 88.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=88.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 87.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 87.0 → 93.0
  Reset currentX to left edge: 1.0, currentLineY updated to 93.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=93.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
  Result: Box at (0.0, 80.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 5] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 80.0 → 96.0
  Reset currentX to left edge: 0.0, currentLineY updated to 96.0

[Call 93][Fragment 6] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 96.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=96.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [109]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 97.0, AvailableWidth: 100.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 109][Fragment 0] BlockChild: <div>
  Fragment Y: 97.0, CurrentY (after line finalize): 97.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=97.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [110]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 98.0, AvailableWidth: 98.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=98.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 97.0) size 100.0x12.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 12.0 (margin.Top=0.0 + height=12.0 + margin.Bottom=0.0), Advancing currentY: 97.0 → 109.0
  Reset currentX to left edge: 1.0, currentLineY updated to 109.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=109.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
  Result: Box at (0.0, 96.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 6] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 96.0 → 112.0
  Reset currentX to left edge: 0.0, currentLineY updated to 112.0

[Call 93][Fragment 7] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 112.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=112.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [111]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 113.0, AvailableWidth: 100.0
Children count: 1
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 111][Fragment 0] BlockChild: <div>
  Fragment Y: 113.0, CurrentY (after line finalize): 113.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=113.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [112]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 114.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=114.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 113.0) size 150.0x12.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 12.0 (margin.Top=0.0 + height=12.0 + margin.Bottom=0.0), Advancing currentY: 113.0 → 125.0
  Reset currentX to left edge: 1.0, currentLineY updated to 125.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=125.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
  Result: Box at (0.0, 112.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 7] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 112.0 → 128.0
  Reset currentX to left edge: 0.0, currentLineY updated to 128.0

[Call 93][Fragment 8] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 128.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=128.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [113]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 129.0, AvailableWidth: 100.0
Children count: 2
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 113][Fragment 0] BlockChild: <div>
  Fragment Y: 129.0, CurrentY (after line finalize): 129.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=129.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [114]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 130.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=130.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 129.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 129.0 → 135.0
  Reset currentX to left edge: 1.0, currentLineY updated to 135.0

[Call 113][Fragment 1] BlockChild: <div>
  Fragment Y: 129.0, CurrentY (after line finalize): 135.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=135.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [115]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 136.0, AvailableWidth: 98.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=136.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 135.0) size 100.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 135.0 → 141.0
  Reset currentX to left edge: 1.0, currentLineY updated to 141.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=141.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
  Result: Box at (0.0, 128.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 8] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 128.0 → 144.0
  Reset currentX to left edge: 0.0, currentLineY updated to 144.0

[Call 93][Fragment 9] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 144.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=144.0, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [116]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 145.0, AvailableWidth: 100.0
Children count: 2
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 116][Fragment 0] BlockChild: <div>
  Fragment Y: 145.0, CurrentY (after line finalize): 145.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=145.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [117]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 146.0, AvailableWidth: 48.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=146.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 145.0) size 50.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 145.0 → 151.0
  Reset currentX to left edge: 1.0, currentLineY updated to 151.0

[Call 116][Fragment 1] BlockChild: <div>
  Fragment Y: 145.0, CurrentY (after line finalize): 151.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=151.0, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [118]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 152.0, AvailableWidth: 148.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=152.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (1.0, 151.0) size 150.0x6.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 6.0 (margin.Top=0.0 + height=6.0 + margin.Bottom=0.0), Advancing currentY: 151.0 → 157.0
  Reset currentX to left edge: 1.0, currentLineY updated to 157.0

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=157.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
  Result: Box at (0.0, 144.0) size 102.0x14.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 9] TotalHeight: 16.0 (margin.Top=0.0 + height=14.0 + margin.Bottom=2.0), Advancing currentY: 144.0 → 160.0
  Reset currentX to left edge: 0.0, currentLineY updated to 160.0

Total boxes created: 10
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=160.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=10
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 1 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=2.0, currTop=0.0, collapsed=2.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=158.0, setting box.Height=158.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x158.0
  Margins: T=0.0 R=0.0 B=2.0 L=0.0
  [Fragment 0] TotalHeight: 160.0 (margin.Top=0.0 + height=158.0 + margin.Bottom=2.0), Advancing currentY: 0.0 → 160.0
  Reset currentX to left edge: 0.0, currentLineY updated to 160.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=160.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=158.0, setting box.Height=158.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (24 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,1.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (81.0,17.0) size 20.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,32.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (81.0,33.0) size 50.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,48.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,64.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,65.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,71.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,80.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,81.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,87.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,96.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,97.0) size 100.0x12.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,112.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,113.0) size 150.0x12.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,128.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,129.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,135.0) size 100.0x6.0 bg=fuchsia pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,144.0) size 102.0x14.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,145.0) size 50.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (1.0,151.0) size 150.0x6.0 bg=fuchsia pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (24 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x158.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,0.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,1.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,16.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (81.0,17.0) size 20.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,32.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (81.0,33.0) size 50.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,48.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,64.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,65.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,71.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,80.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,81.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,87.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,96.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,97.0) size 100.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,112.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,113.0) size 150.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,128.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,129.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,135.0) size 100.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,144.0) size 102.0x14.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,145.0) size 50.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (1.0,151.0) size 150.0x6.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (1.0,49.0) size 50.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (49.0,49.0) size 50.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 255)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-flex-wrap-horiz-002.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [119]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 119][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [120]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Float: <div>, Size: 2.0x19.2
  [1] Float: <div>, Size: 32.0x19.2
  [2] Float: <div>, Size: 32.0x19.2
  [3] Float: <div>, Size: 32.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=2.0 (marginBox=2.0)
    [positionFloat] Left float: <div>, leftOffset=2.0, floatX=2.0, width=32.0 (marginBox=32.0)
    [positionFloat] Left float: <div>, leftOffset=34.0, floatX=34.0, width=32.0 (marginBox=32.0)
    [positionFloat] Left float: <div>, leftOffset=66.0, floatX=66.0, width=32.0 (marginBox=32.0)
Fragments created: 4

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 0.0), Size: 2.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
  Float box at (0.0, 0.0) size 102.0x14.0

[Fragment 1] Float: <div>
  Fragment Position: (2.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [121]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Float box at (2.0, 0.0) size 102.0x14.0

[Fragment 2] Float: <div>
  Fragment Position: (34.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [122]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [123]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [124]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [125]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [126]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Float box at (34.0, 0.0) size 162.0x14.0

[Fragment 3] Float: <div>
  Fragment Position: (66.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [127]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [128]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [129]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [130]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [131]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 2.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=2.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Float box at (66.0, 0.0) size 122.0x14.0

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=4
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x0.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 0.0 (margin.Top=0.0 + height=0.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 0.0
  Reset currentX to left edge: 0.0, currentLineY updated to 0.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x0.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 102.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (2.0,0.0) size 102.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
DEBUG DRAW: Drawing <div> at (3.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (3.0,1.0) size 32.0x12.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (34.0,0.0) size 162.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (35.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (67.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (99.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (131.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (163.0,1.0) size 32.0x12.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (35.0,1.0) size 32.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (67.0,1.0) size 32.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (99.0,1.0) size 32.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (131.0,1.0) size 32.0x12.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (163.0,1.0) size 32.0x12.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (66.0,0.0) size 122.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (67.0,1.0) size 32.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (99.0,1.0) size 32.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (131.0,1.0) size 32.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (67.0,7.0) size 32.0x6.0 bg=lightblue pos=static z=auto
DEBUG DRAW: Drawing <div> at (99.0,7.0) size 32.0x6.0 bg=lightblue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (67.0,1.0) size 32.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (99.0,1.0) size 32.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (131.0,1.0) size 32.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (67.0,7.0) size 32.0x6.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (99.0,7.0) size 32.0x6.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [132]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 132][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [133]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Float: <div>, Size: 2.0x19.2
  [1] Float: <div>, Size: 32.0x19.2
  [2] Float: <div>, Size: 32.0x19.2
  [3] Float: <div>, Size: 32.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=2.0 (marginBox=2.0)
    [positionFloat] Left float: <div>, leftOffset=2.0, floatX=2.0, width=32.0 (marginBox=32.0)
    [positionFloat] Left float: <div>, leftOffset=34.0, floatX=34.0, width=32.0 (marginBox=32.0)
    [positionFloat] Left float: <div>, leftOffset=66.0, floatX=66.0, width=32.0 (marginBox=32.0)
Fragments created: 4

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 0.0), Size: 2.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [134]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1.0, AvailableWidth: 100.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=0.0, box.Width=102.0, totalWidth=104.0, availableWidth=2.0, floatBase=0, nFloats=0
DEBUG FLOAT-POS [div]: getFloatDropY returned 100.0 (was box.Y=0.0)
  Correcting float position: (0.0,100.0) → (0.0,0.0) delta=(0.0,-100.0)
  Float box at (0.0, 0.0) size 102.0x14.0

[Fragment 1] Float: <div>
  Fragment Position: (2.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [135]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 119.0, AvailableWidth: 100.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Float: <div>, Size: 30.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=30.0 (marginBox=30.0)
Fragments created: 1

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 119.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=119.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [136]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 120.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=120.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=119.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=1, nFloats=1
DEBUG FLOAT-POS [div]: getFloatDropY returned 219.0 (was box.Y=119.0)
  Correcting float position: (0.0,219.0) → (3.0,119.0) delta=(3.0,-100.0)
  Float box at (3.0, 119.0) size 32.0x12.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=119.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG FLOAT-POS [div]: box.Y=118.0, box.Width=34.0, totalWidth=36.0, availableWidth=32.0, floatBase=1, nFloats=2
DEBUG FLOAT-POS [div]: getFloatDropY returned 332.0 (was box.Y=118.0)
  Correcting float position: (2.0,332.0) → (2.0,0.0) delta=(0.0,-332.0)
  Float box at (2.0, 0.0) size 34.0x14.0

[Fragment 2] Float: <div>
  Fragment Position: (34.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [137]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 351.0, AvailableWidth: 100.0
Children count: 5

=== PHASE 1: Collected 5 items ===
  [0] Float: <div>, Size: 30.0x19.2
  [1] Float: <div>, Size: 30.0x19.2
  [2] Float: <div>, Size: 30.0x19.2
  [3] Float: <div>, Size: 30.0x19.2
  [4] Float: <div>, Size: 30.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=30.0, floatX=30.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=60.0, floatX=60.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=90.0, floatX=90.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=120.0, floatX=120.0, width=30.0 (marginBox=30.0)
Fragments created: 5

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 351.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=351.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [138]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 352.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=352.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=351.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=2, nFloats=2
DEBUG FLOAT-POS [div]: getFloatDropY returned 451.0 (was box.Y=351.0)
  Correcting float position: (0.0,451.0) → (35.0,351.0) delta=(35.0,-100.0)
  Float box at (35.0, 351.0) size 32.0x12.0

[Fragment 1] Float: <div>
  Fragment Position: (30.0, 351.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=351.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [139]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 352.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=352.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=351.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=3, nFloats=3
DEBUG FLOAT-POS [div]: getFloatDropY returned 564.0 (was box.Y=351.0)
  Correcting float position: (30.0,564.0) → (65.0,351.0) delta=(35.0,-213.0)
  Float box at (65.0, 351.0) size 32.0x12.0

[Fragment 2] Float: <div>
  Fragment Position: (60.0, 351.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=351.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [140]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 352.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=352.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=351.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=4, nFloats=4
DEBUG FLOAT-POS [div]: getFloatDropY returned 676.0 (was box.Y=351.0)
  Correcting float position: (60.0,676.0) → (95.0,351.0) delta=(35.0,-325.0)
  Float box at (95.0, 351.0) size 32.0x12.0

[Fragment 3] Float: <div>
  Fragment Position: (90.0, 351.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=351.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [141]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 352.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=352.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=351.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=5, nFloats=5
DEBUG FLOAT-POS [div]: getFloatDropY returned 787.0 (was box.Y=351.0)
  Correcting float position: (90.0,787.0) → (125.0,351.0) delta=(35.0,-436.0)
  Float box at (125.0, 351.0) size 32.0x12.0

[Fragment 4] Float: <div>
  Fragment Position: (120.0, 351.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=351.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [142]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 352.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=352.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=351.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=6, nFloats=6
DEBUG FLOAT-POS [div]: getFloatDropY returned 897.0 (was box.Y=351.0)
  Correcting float position: (120.0,897.0) → (155.0,351.0) delta=(35.0,-546.0)
  Float box at (155.0, 351.0) size 32.0x12.0

Total boxes created: 5
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=351.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=5
DEBUG FLOAT-POS [div]: box.Y=350.0, box.Width=34.0, totalWidth=36.0, availableWidth=32.0, floatBase=2, nFloats=7
DEBUG FLOAT-POS [div]: getFloatDropY returned 1006.0 (was box.Y=350.0)
  Correcting float position: (34.0,1006.0) → (34.0,0.0) delta=(0.0,-1006.0)
  Float box at (34.0, 0.0) size 34.0x14.0

[Fragment 3] Float: <div>
  Fragment Position: (66.0, 0.0), Size: 32.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=0.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [143]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1025.0, AvailableWidth: 100.0
Children count: 5

=== PHASE 1: Collected 5 items ===
  [0] Float: <div>, Size: 30.0x19.2
  [1] Float: <div>, Size: 30.0x19.2
  [2] Float: <div>, Size: 30.0x19.2
  [3] Float: <div>, Size: 30.0x19.2
  [4] Float: <div>, Size: 30.0x19.2
=== END PHASE 1 ===

    [positionFloat] Left float: <div>, leftOffset=0.0, floatX=0.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=30.0, floatX=30.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=60.0, floatX=60.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=90.0, floatX=90.0, width=30.0 (marginBox=30.0)
    [positionFloat] Left float: <div>, leftOffset=120.0, floatX=120.0, width=30.0 (marginBox=30.0)
Fragments created: 5

[Fragment 0] Float: <div>
  Fragment Position: (0.0, 1025.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1025.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [144]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1026.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1026.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1025.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=3, nFloats=3
DEBUG FLOAT-POS [div]: getFloatDropY returned 1125.0 (was box.Y=1025.0)
  Correcting float position: (0.0,1125.0) → (67.0,1025.0) delta=(67.0,-100.0)
  Float box at (67.0, 1025.0) size 32.0x6.0

[Fragment 1] Float: <div>
  Fragment Position: (30.0, 1025.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1025.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [145]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1026.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1026.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1025.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=4, nFloats=4
DEBUG FLOAT-POS [div]: getFloatDropY returned 1232.0 (was box.Y=1025.0)
  Correcting float position: (30.0,1232.0) → (97.0,1025.0) delta=(67.0,-207.0)
  Float box at (97.0, 1025.0) size 32.0x6.0

[Fragment 2] Float: <div>
  Fragment Position: (60.0, 1025.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1025.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [146]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1026.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1026.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1025.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=5, nFloats=5
DEBUG FLOAT-POS [div]: getFloatDropY returned 1338.0 (was box.Y=1025.0)
  Correcting float position: (60.0,1338.0) → (127.0,1025.0) delta=(67.0,-313.0)
  Float box at (127.0, 1025.0) size 32.0x6.0

[Fragment 3] Float: <div>
  Fragment Position: (90.0, 1025.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1025.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [147]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1026.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1026.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1025.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=6, nFloats=6
DEBUG FLOAT-POS [div]: getFloatDropY returned 1443.0 (was box.Y=1025.0)
  Correcting float position: (90.0,1443.0) → (157.0,1025.0) delta=(67.0,-418.0)
  Float box at (157.0, 1025.0) size 32.0x6.0

[Fragment 4] Float: <div>
  Fragment Position: (120.0, 1025.0), Size: 30.0x19.2
  Calling layoutNode for float content...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG FLOAT-Y [div]: initial y=1025.0 (after margin.Top=0.0), padding={T:0.0 R:0.0 B:0.0 L:0.0}
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [148]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 1026.0, AvailableWidth: 30.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1026.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG FLOAT-POS [div]: box.Y=1025.0, box.Width=32.0, totalWidth=34.0, availableWidth=30.0, floatBase=7, nFloats=7
DEBUG FLOAT-POS [div]: getFloatDropY returned 1547.0 (was box.Y=1025.0)
  Correcting float position: (120.0,1547.0) → (187.0,1025.0) delta=(67.0,-522.0)
  Float box at (187.0, 1025.0) size 32.0x6.0

Total boxes created: 5
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=1025.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=5
DEBUG FLOAT-POS [div]: box.Y=1024.0, box.Width=34.0, totalWidth=36.0, availableWidth=32.0, floatBase=3, nFloats=8
DEBUG FLOAT-POS [div]: getFloatDropY returned 1650.0 (was box.Y=1024.0)
  Correcting float position: (66.0,1650.0) → (66.0,0.0) delta=(0.0,-1650.0)
  Float box at (66.0, 0.0) size 34.0x14.0

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=4
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x0.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 0.0 (margin.Top=0.0 + height=0.0 + margin.Bottom=0.0), Advancing currentY: 0.0 → 0.0
  Reset currentX to left edge: 0.0, currentLineY updated to 0.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=0.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=0.0, setting box.Height=0.0 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x0.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,0.0) size 102.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (2.0,0.0) size 34.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (3.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (34.0,0.0) size 34.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (35.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (65.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (95.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (125.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (155.0,1.0) size 32.0x12.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (66.0,0.0) size 34.0x14.0 bg= pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (67.0,1.0) size 32.0x6.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (97.0,1.0) size 32.0x6.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (127.0,1.0) size 32.0x6.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (157.0,1.0) size 32.0x6.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (187.0,1.0) size 32.0x6.0 bg=lightblue pos=absolute z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 255)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-001a.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-001b.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-002.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-003.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-004.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-005.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-006.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-001a.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-001b.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-002.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-003.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-004.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-005.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-006.xhtml
    reftest_runner_test.go:135: failed to render test: parse error: tokenizer error: expected tag name at position 1
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-center.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [149]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [150]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [151]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,49) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,33.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 33.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,49) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,65.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,65.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 65.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,65.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,33.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,65.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [152]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=33.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=33.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=65.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,49) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,33.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 33.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,49) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,65.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,65.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 65.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,65.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-flexend.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [153]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [154]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [155]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,49.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,49.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,81.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,81.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=81.0, effectiveY=81.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 81.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,97) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,49.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,49.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,81.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,81.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [156]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=49.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=49.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=81.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,49.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,49.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,81.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,81.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=81.0, effectiveY=81.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 81.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,97) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,81.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-flexstart.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [157]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [158]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [159]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,49.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [160]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=49.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-spacearound.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [161]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [162]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [163]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,25.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,25.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=25.0, effectiveY=25.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 25.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,41) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,25.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,25.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=25.0, effectiveY=25.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 25.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,41) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,73.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,73.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=73.0, effectiveY=73.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 73.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,89) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,25.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,25.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,73.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,25.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,25.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,73.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [164]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=25.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=25.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=73.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,25.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,25.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=25.0, effectiveY=25.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 25.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,41) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,25.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,25.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,25.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=25.0, effectiveY=25.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 25.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,41) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,25.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,73.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,73.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=73.0, effectiveY=73.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 73.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,89) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,73.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-spacebetween.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [165]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [166]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [167]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,81.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,81.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=81.0, effectiveY=81.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 81.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,97) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,81.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,81.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [168]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=81.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,81.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,81.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=81.0, effectiveY=81.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 81.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,97) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,81.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-stretch.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [169]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [170]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [171]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,65.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,65.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 65.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (17.0,65.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,65.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [172]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 320.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=17.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=65.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 322.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,33) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,33) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (17.0,65.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,65.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 65.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (17.0,65.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-center.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [173]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [174]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [175]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,49.0) size 128.0x32.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,49.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,49.0) size 128.0x32.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,49.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,49.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,49.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,49.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,49.0) size 128.0x32.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [176]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x32.0
  [1] Atomic: <span>, Size: 128.0x32.0
  [2] Atomic: <span>, Size: 128.0x32.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x32.0
  Atomic box: X=17.0 Y=49.0 W=128.0 H=32.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x32.0
  Atomic box: X=177.0 Y=49.0 W=128.0 H=32.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x32.0
  Atomic box: X=337.0 Y=49.0 W=128.0 H=32.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=32.0, lastFinalizedH=0.0, finalH=32.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,49.0) size 128.0x32.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,49.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,49.0) size 128.0x32.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,49.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,49.0) size 128.0x32.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,49.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=49.0, effectiveY=49.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=32.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 49.0, 128.0, 32.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,49.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-flexend.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [177]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [178]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [179]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [180]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=337.0 Y=93.8 W=128.0 H=19.2 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-flexstart.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [181]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [182]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [183]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x19.2 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,26) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [184]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=337.0 Y=17.0 W=128.0 H=19.2 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x19.2 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,26) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-stretch.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [185]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [186]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 65.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 65.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 65.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=65.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [187]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,65.0) size 128.0x48.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,65.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 65.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,89) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,65.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,65.0) size 128.0x48.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,17.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [188]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x96.0
  [1] Atomic: <span>, Size: 128.0x48.0
  [2] Atomic: <span>, Size: 128.0x96.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x96.0
  Atomic box: X=17.0 Y=17.0 W=128.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x48.0
  Atomic box: X=177.0 Y=65.0 W=128.0 H=48.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x96.0
  Atomic box: X=337.0 Y=17.0 W=128.0 H=96.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x96.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,65.0) size 128.0x48.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,65.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=65.0, effectiveY=65.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 65.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,89) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,65.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x96.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-auto.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [189]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [190]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [191]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [192]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=337.0 Y=93.8 W=128.0 H=19.2 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-center.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [193]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [194]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [195]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,33.0) size 128.0x64.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=64.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 33.0, 128.0, 64.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,33.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,33.0) size 128.0x64.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [196]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x64.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x64.0
  Atomic box: X=337.0 Y=33.0 W=128.0 H=64.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=64.0, lastFinalizedH=0.0, finalH=64.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,33.0) size 128.0x64.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=64.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 33.0, 128.0, 64.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-flexend.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [197]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [198]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [199]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [200]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=17.0 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=337.0 Y=93.8 W=128.0 H=19.2 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,17.0) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,17.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,26) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,17.0) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,17.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,26) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,93.8) size 128.0x19.2 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,93.8) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,103) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-flexstart.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [201]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [202]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [203]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x19.2 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,26) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,93.8) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,17.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [204]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x0.0
  [1] Atomic: <span>, Size: 128.0x0.0
  [2] Atomic: <span>, Size: 128.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=17.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=177.0 Y=93.8 W=128.0 H=19.2 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x0.0
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Atomic box: X=337.0 Y=17.0 W=128.0 H=19.2 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,93.8) size 128.0x19.2 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,93.8) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,103) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,93.8) size 128.0x19.2 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,93.8) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=93.8, effectiveY=93.8, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 93.8, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,103) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,93.8)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x19.2 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,26) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-stretch.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [205]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 17.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [206]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 17.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [207]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 17.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 17.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 17.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,41.0) size 128.0x48.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,41.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=41.0, effectiveY=41.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 41.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (177.0,41.0) size 128.0x48.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,41.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=41.0, effectiveY=41.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 41.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (3 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,41.0)
DEBUG TEXT: <> drawing textContent="two" at (177.0,41.0)
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,41.0) size 128.0x48.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (177.0,41.0) size 128.0x48.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (337.0,17.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [208]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 480.0
Children count: 3

=== PHASE 1: Collected 3 items ===
  [0] Atomic: <span>, Size: 128.0x48.0
  [1] Atomic: <span>, Size: 128.0x48.0
  [2] Atomic: <span>, Size: 128.0x96.0
=== END PHASE 1 ===

Fragments created: 3

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x48.0
  Atomic box: X=17.0 Y=41.0 W=128.0 H=48.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x48.0
  Atomic box: X=177.0 Y=41.0 W=128.0 H=48.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x96.0
  Atomic box: X=337.0 Y=17.0 W=128.0 H=96.0 children=1

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=3
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 482.0x98.0 bg=blue pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <span> at (17.0,41.0) size 128.0x48.0 bg=yellow pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,41.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=41.0, effectiveY=41.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 41.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,65) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (17.0,41.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (177.0,41.0) size 128.0x48.0 bg=pink pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (177.0,41.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=41.0, effectiveY=41.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=48.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(177.0, 41.0, 128.0, 48.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,65) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="two" at (177.0,41.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG DRAW: Drawing <span> at (337.0,17.0) size 128.0x96.0 bg=lightblue pos=absolute z=auto
DEBUG DRAW:   Child[0]: <> at (337.0,17.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=17.0, effectiveY=17.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(337.0, 17.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,65) = RGBA(0,0,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="three" at (337.0,17.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_direction-column-reverse.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [209]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [210]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [211]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [212]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 400.0x206.8 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,186.6) size 128.0x19.2 bg=#ffcc00 pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,186.6) size 31.0x12.0 bg=#ffcc00
DEBUG COLOR: Parsed color for span: R=255 G=204 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.800 B=0.000 A=1.00
DEBUG COORDS: box.Y=186.6, effectiveY=186.6, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 186.6, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,196) = RGBA(255,204,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,135.4) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,135.4) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,135.4) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=135.4, effectiveY=135.4, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 135.4, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,145) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,84.2) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,84.2) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,84.2) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=84.2, effectiveY=84.2, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 84.2, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,93) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,42) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="filler" at (17.0,186.6)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,135.4) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,135.4)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,84.2) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,84.2)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,186.6) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,135.4) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,84.2) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [213]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 398.0
Children count: 4
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)

=== PHASE 1: Collected 4 items ===
  [0] BlockChild: <span>, Size: 0.0x0.0
  [1] BlockChild: <span>, Size: 0.0x0.0
  [2] BlockChild: <span>, Size: 0.0x0.0
  [3] BlockChild: <span>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 4

[Call 213][Fragment 0] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 17.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=17.0, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [214]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 33.0) size 128.0x19.2
  Margins: T=16.0 R=16.0 B=16.0 L=16.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 17.0 → 68.2
  Reset currentX to left edge: 1.0, currentLineY updated to 68.2

[Call 213][Fragment 1] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 68.2
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=68.2, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [215]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 100.2, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 100.2), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 100.2), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=100.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 100.2) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 1] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 68.2 → 135.4
  Reset currentX to left edge: 1.0, currentLineY updated to 135.4

[Call 213][Fragment 2] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 135.4
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=135.4, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [216]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 167.4, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 167.4), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 167.4), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=167.4, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 167.4) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 2] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 135.4 → 202.6
  Reset currentX to left edge: 1.0, currentLineY updated to 202.6

[Call 213][Fragment 3] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 202.6
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=202.6, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [217]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 234.6, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 234.6), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 234.6), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=234.6, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 234.6) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 3] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 202.6 → 269.8
  Reset currentX to left edge: 1.0, currentLineY updated to 269.8

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=269.8, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=4
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=16.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: span delta=-32.0, 1 children
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=32.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG AUTO-HEIGHT: Final maxBottom=204.8, setting box.Height=206.8 (maxBottom + padding 0.0 + borders 2.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 400.0x206.8 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,42) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,84.2) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,84.2) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,84.2) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=84.2, effectiveY=84.2, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 84.2, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,93) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,135.4) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,135.4) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,135.4) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=135.4, effectiveY=135.4, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 135.4, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,145) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,186.6) size 128.0x19.2 bg=#ffcc00 pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,186.6) size 31.0x12.0 bg=#ffcc00
DEBUG COLOR: Parsed color for span: R=255 G=204 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.800 B=0.000 A=1.00
DEBUG COORDS: box.Y=186.6, effectiveY=186.6, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 186.6, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,196) = RGBA(255,204,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,84.2) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,84.2)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,135.4) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,135.4)
DEBUG TEXT: <> drawing textContent="filler" at (17.0,186.6)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,84.2) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,135.4) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,186.6) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 255)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_direction-column.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [218]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [219]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [220]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [221]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 400.0x206.8 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,42) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,84.2) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,84.2) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,84.2) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=84.2, effectiveY=84.2, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 84.2, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,93) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,135.4) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,135.4) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,135.4) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=135.4, effectiveY=135.4, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 135.4, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,145) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,186.6) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,186.6) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,186.6) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=186.6, effectiveY=186.6, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 186.6, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,196) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,84.2) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,84.2)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,135.4) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,135.4)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,186.6) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,186.6)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,84.2) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,135.4) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,186.6) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [222]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 398.0
Children count: 4
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)
  [CollectItems] Found block child: <span> (display=block)

=== PHASE 1: Collected 4 items ===
  [0] BlockChild: <span>, Size: 0.0x0.0
  [1] BlockChild: <span>, Size: 0.0x0.0
  [2] BlockChild: <span>, Size: 0.0x0.0
  [3] BlockChild: <span>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 4

[Call 222][Fragment 0] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 17.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=17.0, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [223]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 33.0), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 33.0) size 128.0x19.2
  Margins: T=16.0 R=16.0 B=16.0 L=16.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 17.0 → 68.2
  Reset currentX to left edge: 1.0, currentLineY updated to 68.2

[Call 222][Fragment 1] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 68.2
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=68.2, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [224]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 100.2, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 100.2), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 100.2), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=100.2, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 100.2) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 1] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 68.2 → 135.4
  Reset currentX to left edge: 1.0, currentLineY updated to 135.4

[Call 222][Fragment 2] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 135.4
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=135.4, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [225]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 167.4, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 167.4), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 167.4), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=167.4, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 167.4) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 2] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 135.4 → 202.6
  Reset currentX to left edge: 1.0, currentLineY updated to 202.6

[Call 222][Fragment 3] BlockChild: <span>
  Fragment Y: 17.0, CurrentY (after line finalize): 202.6
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=202.6, availWidth=398.0)...
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [226]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 234.6, AvailableWidth: 128.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("filler"), Size: 31.0x12.0
       Text: "filler"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("filler")

[Fragment 0] 0: TEXT("filler")
  Fragment Position: (0.0, 234.6), Size: 31.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "filler"
  Final Box Position: (17.0, 234.6), currentLineMaxH: 19.2
  Updated currentX: 48.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=234.6, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (17.0, 234.6) size 128.0x19.2
  Margins: T=32.0 R=16.0 B=16.0 L=16.0
  [Fragment 3] TotalHeight: 67.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 202.6 → 269.8
  Reset currentX to left edge: 1.0, currentLineY updated to 269.8

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=269.8, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=4
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=16.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: span delta=-32.0, 1 children
DEBUG MULTIPASS COLLAPSE: prev=span, curr=span, prevBottom=16.0, currTop=32.0, collapsed=32.0, adjustment=16.0, cumulative=32.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG AUTO-HEIGHT: Final maxBottom=204.8, setting box.Height=206.8 (maxBottom + padding 0.0 + borders 2.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 400.0x206.8 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,42) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,84.2) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,84.2) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,84.2) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=84.2, effectiveY=84.2, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 84.2, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,93) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,135.4) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,135.4) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,135.4) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=135.4, effectiveY=135.4, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 135.4, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,145) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (17.0,186.6) size 128.0x19.2 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,186.6) size 31.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,186.6) size 128.0x19.2
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=186.6, effectiveY=186.6, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=19.2 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 186.6, 128.0, 19.2)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,196) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,84.2) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,84.2)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,135.4) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,135.4)
DEBUG WHITE: Drawing WHITE background for <> at (17.0,186.6) size 31.0x12.0
DEBUG TEXT: <> drawing textContent="filler" at (17.0,186.6)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,84.2) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,135.4) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,186.6) size 128.0x19.2
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_direction-row-reverse.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='container'>
DEBUG CSS: div id='container' position=static

=== MULTI-PASS [227]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 0.0, AvailableWidth: 520.0
Children count: 1
  [CollectItems] Found block child: <ul> (display=flex)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <ul>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 227][Fragment 0] BlockChild: <ul>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=520.0)...

=== MULTI-PASS [228]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("I"), Size: 40.0x30.0
       Text: "I"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=40.0 + border.L=0.0 + pad.L=0.0) = box.X=40.0 for TEXT("I")

[Fragment 0] 0: TEXT("I")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "I"
  Final Box Position: (40.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 80.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [229]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("J"), Size: 40.0x30.0
       Text: "J"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=80.0 + border.L=0.0 + pad.L=0.0) = box.X=80.0 for TEXT("J")

[Fragment 0] 0: TEXT("J")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "J"
  Final Box Position: (80.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 120.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [230]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("K"), Size: 40.0x30.0
       Text: "K"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=120.0 + border.L=0.0 + pad.L=0.0) = box.X=120.0 for TEXT("K")

[Fragment 0] 0: TEXT("K")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "K"
  Final Box Position: (120.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 160.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [231]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("L"), Size: 40.0x30.0
       Text: "L"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=160.0 + border.L=0.0 + pad.L=0.0) = box.X=160.0 for TEXT("L")

[Fragment 0] 0: TEXT("L")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "L"
  Final Box Position: (160.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 200.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)

=== MULTI-PASS [232]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("A"), Size: 40.0x30.0
       Text: "A"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=40.0 + border.L=0.0 + pad.L=0.0) = box.X=40.0 for TEXT("A")

[Fragment 0] 0: TEXT("A")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "A"
  Final Box Position: (40.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 80.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [233]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("B"), Size: 40.0x30.0
       Text: "B"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=80.0 + border.L=0.0 + pad.L=0.0) = box.X=80.0 for TEXT("B")

[Fragment 0] 0: TEXT("B")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "B"
  Final Box Position: (80.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 120.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [234]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("C"), Size: 40.0x30.0
       Text: "C"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=120.0 + border.L=0.0 + pad.L=0.0) = box.X=120.0 for TEXT("C")

[Fragment 0] 0: TEXT("C")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "C"
  Final Box Position: (120.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 160.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [235]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("D"), Size: 40.0x30.0
       Text: "D"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=160.0 + border.L=0.0 + pad.L=0.0) = box.X=160.0 for TEXT("D")

[Fragment 0] 0: TEXT("D")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "D"
  Final Box Position: (160.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 200.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)

=== MULTI-PASS [236]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("E"), Size: 40.0x30.0
       Text: "E"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=40.0 + border.L=0.0 + pad.L=0.0) = box.X=40.0 for TEXT("E")

[Fragment 0] 0: TEXT("E")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "E"
  Final Box Position: (40.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 80.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [237]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("F"), Size: 40.0x30.0
       Text: "F"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=80.0 + border.L=0.0 + pad.L=0.0) = box.X=80.0 for TEXT("F")

[Fragment 0] 0: TEXT("F")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "F"
  Final Box Position: (80.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 120.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [238]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("G"), Size: 40.0x30.0
       Text: "G"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=120.0 + border.L=0.0 + pad.L=0.0) = box.X=120.0 for TEXT("G")

[Fragment 0] 0: TEXT("G")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "G"
  Final Box Position: (120.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 160.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)

=== MULTI-PASS [239]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 16.0, AvailableWidth: 0.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("H"), Size: 40.0x30.0
       Text: "H"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=160.0 + border.L=0.0 + pad.L=0.0) = box.X=160.0 for TEXT("H")

[Fragment 0] 0: TEXT("H")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=0.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "H"
  Final Box Position: (160.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 200.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG INLINE: <span> before shrinkwrap: Height=48.0, Children=1
DEBUG SHRINKWRAP: <span> height being overwritten: 48.0 → 30.0 (diff: 18.0)
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 520.0x48.0
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 80.0 (margin.Top=16.0 + height=48.0 + margin.Bottom=16.0), Advancing currentY: 0.0 → 80.0
  Reset currentX to left edge: 0.0, currentLineY updated to 80.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=80.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG adjustChildrenY: ul delta=-16.0, 3 children
DEBUG adjustChildrenY: li delta=-16.0, 4 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: li delta=-16.0, 4 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: li delta=-16.0, 4 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG adjustChildrenY: ul delta=16.0, 3 children
DEBUG adjustChildrenY: li delta=16.0, 4 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
DEBUG adjustChildrenY: li delta=16.0, 4 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
DEBUG adjustChildrenY: li delta=16.0, 4 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 1 children
DEBUG AUTO-HEIGHT: Final maxBottom=112.0, setting box.Height=112.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 520.0x112.0 bg= pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (24 elements) ===
DEBUG RENDER: Rendering inline <span> at (360.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (360.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (360.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="I" at (360.0,16.0)
DEBUG RENDER: Rendering inline <span> at (400.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (400.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (400.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="J" at (400.0,16.0)
DEBUG RENDER: Rendering inline <span> at (440.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (440.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (440.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="K" at (440.0,16.0)
DEBUG RENDER: Rendering inline <span> at (480.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (480.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (480.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="L" at (480.0,16.0)
DEBUG RENDER: Rendering inline <span> at (200.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (200.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (200.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="A" at (200.0,16.0)
DEBUG RENDER: Rendering inline <span> at (240.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (240.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (240.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="B" at (240.0,16.0)
DEBUG RENDER: Rendering inline <span> at (280.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (280.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (280.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="C" at (280.0,16.0)
DEBUG RENDER: Rendering inline <span> at (320.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (320.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (320.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="D" at (320.0,16.0)
DEBUG RENDER: Rendering inline <span> at (40.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (40.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (40.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="E" at (40.0,16.0)
DEBUG RENDER: Rendering inline <span> at (80.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (80.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (80.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="F" at (80.0,16.0)
DEBUG RENDER: Rendering inline <span> at (120.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (120.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (120.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="G" at (120.0,16.0)
DEBUG RENDER: Rendering inline <span> at (160.0,16.0) size 40.0x30.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (160.0,16.0) size 40.0x30.0 bg= pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (160.0,16.0) size 40.0x30.0 bg=none
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="H" at (160.0,16.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <ul> at (0.0,16.0) size 520.0x48.0
DEBUG BLOCK CONTENT: Drawing content for <li> at (360.0,16.0) size 160.0x48.0
DEBUG BLOCK CONTENT: Drawing content for <li> at (200.0,16.0) size 160.0x48.0
DEBUG BLOCK CONTENT: Drawing content for <li> at (40.0,16.0) size 160.0x48.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='container'>
DEBUG CSS: div id='container' position=static

=== MULTI-PASS [240]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 0.0, AvailableWidth: 520.0
Children count: 1
  [CollectItems] Found block child: <ul> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <ul>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 240][Fragment 0] BlockChild: <ul>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=520.0)...
DEBUG: Multi-pass triggered for <ul> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [241]: LayoutInlineContentToBoxes ===
Container: <ul>, StartY: 16.0, AvailableWidth: 480.0
Children count: 12

=== PHASE 1: Collected 36 items ===
  [0] OpenTag: <span>, Size: 0.0x0.0
  [1] Text: TEXT("E"), Size: 40.0x30.0
       Text: "E"
  [2] CloseTag: <span>, Size: 0.0x0.0
  [3] OpenTag: <span>, Size: 0.0x0.0
  [4] Text: TEXT("F"), Size: 40.0x30.0
       Text: "F"
  [5] CloseTag: <span>, Size: 0.0x0.0
  [6] OpenTag: <span>, Size: 0.0x0.0
  [7] Text: TEXT("G"), Size: 40.0x30.0
       Text: "G"
  [8] CloseTag: <span>, Size: 0.0x0.0
  [9] OpenTag: <span>, Size: 0.0x0.0
  [10] Text: TEXT("H"), Size: 40.0x30.0
       Text: "H"
  [11] CloseTag: <span>, Size: 0.0x0.0
  [12] OpenTag: <span>, Size: 0.0x0.0
  [13] Text: TEXT("A"), Size: 40.0x30.0
       Text: "A"
  [14] CloseTag: <span>, Size: 0.0x0.0
  [15] OpenTag: <span>, Size: 0.0x0.0
  [16] Text: TEXT("B"), Size: 40.0x30.0
       Text: "B"
  [17] CloseTag: <span>, Size: 0.0x0.0
  [18] OpenTag: <span>, Size: 0.0x0.0
  [19] Text: TEXT("C"), Size: 40.0x30.0
       Text: "C"
  [20] CloseTag: <span>, Size: 0.0x0.0
  [21] OpenTag: <span>, Size: 0.0x0.0
  [22] Text: TEXT("D"), Size: 40.0x30.0
       Text: "D"
  [23] CloseTag: <span>, Size: 0.0x0.0
  [24] OpenTag: <span>, Size: 0.0x0.0
  [25] Text: TEXT("I"), Size: 40.0x30.0
       Text: "I"
  [26] CloseTag: <span>, Size: 0.0x0.0
  [27] OpenTag: <span>, Size: 0.0x0.0
  [28] Text: TEXT("J"), Size: 40.0x30.0
       Text: "J"
  [29] CloseTag: <span>, Size: 0.0x0.0
  [30] OpenTag: <span>, Size: 0.0x0.0
  [31] Text: TEXT("K"), Size: 40.0x30.0
       Text: "K"
  [32] CloseTag: <span>, Size: 0.0x0.0
  [33] OpenTag: <span>, Size: 0.0x0.0
  [34] Text: TEXT("L"), Size: 40.0x30.0
       Text: "L"
  [35] CloseTag: <span>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 36

[Fragment 0] OpenTag: <span>
  Position: (0.0, 16.0), CurrentX: 40.0
  OpenTag <span>: Set line-box height to 48.0 (line-height)

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=40.0 for TEXT("E")

[Fragment 1] 0: TEXT("E")
  Fragment Position: (0.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=0.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "E"
  Final Box Position: (40.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 80.0

[Call 241][Fragment 2] CloseTag: <span> (currentY=16.0)
  Position: (40.0, 16.0), CurrentX: 80.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 0.0 → 40.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 3] OpenTag: <span>
  Position: (40.0, 16.0), CurrentX: 80.0

DEBUG BOXPOS: frag.Pos.X=40.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=80.0 for TEXT("F")

[Fragment 4] 0: TEXT("F")
  Fragment Position: (40.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "F"
  Final Box Position: (80.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 120.0

[Call 241][Fragment 5] CloseTag: <span> (currentY=16.0)
  Position: (80.0, 16.0), CurrentX: 120.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 40.0 → 80.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 6] OpenTag: <span>
  Position: (80.0, 16.0), CurrentX: 120.0

DEBUG BOXPOS: frag.Pos.X=80.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=120.0 for TEXT("G")

[Fragment 7] 0: TEXT("G")
  Fragment Position: (80.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "G"
  Final Box Position: (120.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 160.0

[Call 241][Fragment 8] CloseTag: <span> (currentY=16.0)
  Position: (120.0, 16.0), CurrentX: 160.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 80.0 → 120.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 9] OpenTag: <span>
  Position: (120.0, 16.0), CurrentX: 160.0

DEBUG BOXPOS: frag.Pos.X=120.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=160.0 for TEXT("H")

[Fragment 10] 0: TEXT("H")
  Fragment Position: (120.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "H"
  Final Box Position: (160.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 200.0

[Call 241][Fragment 11] CloseTag: <span> (currentY=16.0)
  Position: (160.0, 16.0), CurrentX: 200.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 120.0 → 160.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 12] OpenTag: <span>
  Position: (160.0, 16.0), CurrentX: 200.0

DEBUG BOXPOS: frag.Pos.X=160.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=200.0 for TEXT("A")

[Fragment 13] 0: TEXT("A")
  Fragment Position: (160.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "A"
  Final Box Position: (200.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 240.0

[Call 241][Fragment 14] CloseTag: <span> (currentY=16.0)
  Position: (200.0, 16.0), CurrentX: 240.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 160.0 → 200.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 15] OpenTag: <span>
  Position: (200.0, 16.0), CurrentX: 240.0

DEBUG BOXPOS: frag.Pos.X=200.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=240.0 for TEXT("B")

[Fragment 16] 0: TEXT("B")
  Fragment Position: (200.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "B"
  Final Box Position: (240.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 280.0

[Call 241][Fragment 17] CloseTag: <span> (currentY=16.0)
  Position: (240.0, 16.0), CurrentX: 280.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 200.0 → 240.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 18] OpenTag: <span>
  Position: (240.0, 16.0), CurrentX: 280.0

DEBUG BOXPOS: frag.Pos.X=240.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=280.0 for TEXT("C")

[Fragment 19] 0: TEXT("C")
  Fragment Position: (240.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "C"
  Final Box Position: (280.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 320.0

[Call 241][Fragment 20] CloseTag: <span> (currentY=16.0)
  Position: (280.0, 16.0), CurrentX: 320.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 240.0 → 280.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 21] OpenTag: <span>
  Position: (280.0, 16.0), CurrentX: 320.0

DEBUG BOXPOS: frag.Pos.X=280.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=320.0 for TEXT("D")

[Fragment 22] 0: TEXT("D")
  Fragment Position: (280.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "D"
  Final Box Position: (320.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 360.0

[Call 241][Fragment 23] CloseTag: <span> (currentY=16.0)
  Position: (320.0, 16.0), CurrentX: 360.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 280.0 → 320.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 24] OpenTag: <span>
  Position: (320.0, 16.0), CurrentX: 360.0

DEBUG BOXPOS: frag.Pos.X=320.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=360.0 for TEXT("I")

[Fragment 25] 0: TEXT("I")
  Fragment Position: (320.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "I"
  Final Box Position: (360.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 400.0

[Call 241][Fragment 26] CloseTag: <span> (currentY=16.0)
  Position: (360.0, 16.0), CurrentX: 400.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 320.0 → 360.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 27] OpenTag: <span>
  Position: (360.0, 16.0), CurrentX: 400.0

DEBUG BOXPOS: frag.Pos.X=360.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=400.0 for TEXT("J")

[Fragment 28] 0: TEXT("J")
  Fragment Position: (360.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "J"
  Final Box Position: (400.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 440.0

[Call 241][Fragment 29] CloseTag: <span> (currentY=16.0)
  Position: (400.0, 16.0), CurrentX: 440.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 360.0 → 400.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 30] OpenTag: <span>
  Position: (400.0, 16.0), CurrentX: 440.0

DEBUG BOXPOS: frag.Pos.X=400.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=440.0 for TEXT("K")

[Fragment 31] 0: TEXT("K")
  Fragment Position: (400.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "K"
  Final Box Position: (440.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 480.0

[Call 241][Fragment 32] CloseTag: <span> (currentY=16.0)
  Position: (440.0, 16.0), CurrentX: 480.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 400.0 → 440.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

[Fragment 33] OpenTag: <span>
  Position: (440.0, 16.0), CurrentX: 480.0

DEBUG BOXPOS: frag.Pos.X=440.0 + container(X=0.0 + border.L=0.0 + pad.L=40.0) = box.X=480.0 for TEXT("L")

[Fragment 34] 0: TEXT("L")
  Fragment Position: (440.0, 16.0), Size: 40.0x30.0
  Box.Height=30.0, content=30.0, lineBox=48.0
  Line metrics: content=30.0, lineBox=48.0, effective=48.0, hasContent=true
  Text: "L"
  Final Box Position: (480.0, 16.0), currentLineMaxH: 48.0
  Updated currentX: 520.0

[Call 241][Fragment 35] CloseTag: <span> (currentY=16.0)
  Position: (480.0, 16.0), CurrentX: 520.0
  Wrapper box height: line-height 48.0 (borders/padding rendered separately)
  Creating wrapper box: X 440.0 → 480.0 (width 40.0, height 48.0)
  Wrapper box(es) created, stack size: 0

Total boxes created: 24
DEBUG: Applying text-align=right to 24 boxes
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=48.0, lastFinalizedH=0.0, finalH=48.0, boxes=24
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 520.0x48.0
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 80.0 (margin.Top=16.0 + height=48.0 + margin.Bottom=16.0), Advancing currentY: 0.0 → 80.0
  Reset currentX to left edge: 0.0, currentLineY updated to 80.0

Total boxes created: 1
DEBUG: Applying text-align=right to 1 boxes
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=80.0, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG adjustChildrenY: ul delta=-16.0, 24 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
  Adjusted span child from Y=16.0 to Y=0.0
DEBUG adjustChildrenY: span delta=-16.0, 0 children
DEBUG adjustChildrenY: ul delta=16.0, 24 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
  Adjusted span child from Y=0.0 to Y=16.0
DEBUG adjustChildrenY: span delta=16.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=48.0, setting box.Height=48.0 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 520.0x48.0 bg=black pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (1 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (24 elements) ===
DEBUG TEXT: <> drawing textContent="E" at (40.0,16.0)
DEBUG RENDER: Rendering inline <span> at (40.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (40.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="F" at (80.0,16.0)
DEBUG RENDER: Rendering inline <span> at (80.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (80.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="G" at (120.0,16.0)
DEBUG RENDER: Rendering inline <span> at (120.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (120.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="H" at (160.0,16.0)
DEBUG RENDER: Rendering inline <span> at (160.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (160.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="A" at (200.0,16.0)
DEBUG RENDER: Rendering inline <span> at (200.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (200.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="B" at (240.0,16.0)
DEBUG RENDER: Rendering inline <span> at (240.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (240.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="C" at (280.0,16.0)
DEBUG RENDER: Rendering inline <span> at (280.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (280.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="D" at (320.0,16.0)
DEBUG RENDER: Rendering inline <span> at (320.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (320.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="I" at (360.0,16.0)
DEBUG RENDER: Rendering inline <span> at (360.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (360.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="J" at (400.0,16.0)
DEBUG RENDER: Rendering inline <span> at (400.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (400.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="K" at (440.0,16.0)
DEBUG RENDER: Rendering inline <span> at (440.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (440.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="L" at (480.0,16.0)
DEBUG RENDER: Rendering inline <span> at (480.0,16.0) size 40.0x48.0 bg= border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (480.0,16.0) size 40.0x48.0 bg= pos=static z=auto
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Block content (1 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <ul> at (0.0,16.0) size 520.0x48.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_display.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <ul>

=== MULTI-PASS [242]: LayoutInlineContentToBoxes ===
Container: <ul>, StartY: 17.0, AvailableWidth: 398.0
Children count: 2
  [CollectItems] Found block child: <li> (display=list-item)
  [CollectItems] Found block child: <li> (display=list-item)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <li>, Size: 0.0x0.0
  [1] BlockChild: <li>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 242][Fragment 0] BlockChild: <li>
  Fragment Y: 17.0, CurrentY (after line finalize): 17.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=17.0, availWidth=398.0)...
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (33.0, 49.0) size 334.0x19.2
  Margins: T=32.0 R=32.0 B=32.0 L=32.0
  [Fragment 0] TotalHeight: 83.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=32.0), Advancing currentY: 17.0 → 100.2
  Reset currentX to left edge: 1.0, currentLineY updated to 100.2

[Call 242][Fragment 1] BlockChild: <li>
  Fragment Y: 17.0, CurrentY (after line finalize): 100.2
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=100.2, availWidth=398.0)...
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (33.0, 132.2) size 334.0x19.2
  Margins: T=32.0 R=32.0 B=32.0 L=32.0
  [Fragment 1] TotalHeight: 83.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=32.0), Advancing currentY: 100.2 → 183.4
  Reset currentX to left edge: 1.0, currentLineY updated to 183.4

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=183.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=li, curr=li, prevBottom=32.0, currTop=32.0, collapsed=32.0, adjustment=32.0, cumulative=0.0
DEBUG adjustChildrenY: li delta=-32.0, 1 children
DEBUG AUTO-HEIGHT: Final maxBottom=134.4, setting box.Height=136.4 (maxBottom + padding 0.0 + borders 2.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (2 elements) ===
DEBUG TEXT: <> drawing textContent="filler" at (33.0,49.0)
DEBUG TEXT: <> drawing textContent="Antidisestablishmentarianism" at (33.0,100.2)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <li> at (33.0,49.0) size 334.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <li> at (33.0,100.2) size 334.0x19.2
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <ol>

=== MULTI-PASS [243]: LayoutInlineContentToBoxes ===
Container: <ol>, StartY: 17.0, AvailableWidth: 398.0
Children count: 2
  [CollectItems] Found block child: <li> (display=list-item)
  [CollectItems] Found block child: <li> (display=list-item)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <li>, Size: 0.0x0.0
  [1] BlockChild: <li>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 243][Fragment 0] BlockChild: <li>
  Fragment Y: 17.0, CurrentY (after line finalize): 17.0
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=17.0, availWidth=398.0)...
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (33.0, 49.0) size 334.0x19.2
  Margins: T=32.0 R=32.0 B=32.0 L=32.0
  [Fragment 0] TotalHeight: 83.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=32.0), Advancing currentY: 17.0 → 100.2
  Reset currentX to left edge: 1.0, currentLineY updated to 100.2

[Call 243][Fragment 1] BlockChild: <li>
  Fragment Y: 17.0, CurrentY (after line finalize): 100.2
  Calculated childX: 1.0 (container.X=0.0 + border=1.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=1.0, y=100.2, availWidth=398.0)...
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (33.0, 132.2) size 334.0x19.2
  Margins: T=32.0 R=32.0 B=32.0 L=32.0
  [Fragment 1] TotalHeight: 83.2 (margin.Top=32.0 + height=19.2 + margin.Bottom=32.0), Advancing currentY: 100.2 → 183.4
  Reset currentX to left edge: 1.0, currentLineY updated to 183.4

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=183.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=li, curr=li, prevBottom=32.0, currTop=32.0, collapsed=32.0, adjustment=32.0, cumulative=0.0
DEBUG adjustChildrenY: li delta=-32.0, 1 children
DEBUG AUTO-HEIGHT: Final maxBottom=134.4, setting box.Height=136.4 (maxBottom + padding 0.0 + borders 2.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (2 elements) ===
DEBUG TEXT: <> drawing textContent="filler" at (33.0,49.0)
DEBUG TEXT: <> drawing textContent="Antidisestablishmentarianism" at (33.0,100.2)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <li> at (33.0,49.0) size 334.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <li> at (33.0,100.2) size 334.0x19.2
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-0-0.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [244]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [245]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [246]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [247]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 26.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=26.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 26.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (14,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (27.0,33.0) size 24.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (27.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=24.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(27.0, 33.0, 24.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (39,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (51.0,33.0) size 36.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (51.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=36.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(51.0, 33.0, 36.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (69,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (87.0,33.0) size 27.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (87.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=27.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(87.0, 33.0, 27.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (100,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (27.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (51.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (87.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 26.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (27.0,33.0) size 24.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (51.0,33.0) size 36.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (87.0,33.0) size 27.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [248]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 26.0x96.0
  [1] Atomic: <span>, Size: 24.0x96.0
  [2] Atomic: <span>, Size: 36.0x96.0
  [3] Atomic: <span>, Size: 27.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 26.0x96.0
  Atomic box: X=1.0 Y=33.0 W=26.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=27.0 Y=17.0 size 24.0x96.0
  Atomic box: X=27.0 Y=33.0 W=24.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=51.0 Y=17.0 size 36.0x96.0
  Atomic box: X=51.0 Y=33.0 W=36.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=87.0 Y=17.0 size 27.0x96.0
  Atomic box: X=87.0 Y=33.0 W=27.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 26.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 26.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=26.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 26.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (14,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (27.0,33.0) size 24.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (27.0,33.0) size 24.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (27.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=24.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(27.0, 33.0, 24.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (39,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (27.0,33.0)
DEBUG RENDER: Rendering inline <span> at (51.0,33.0) size 36.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (51.0,33.0) size 36.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (51.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=36.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(51.0, 33.0, 36.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (69,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (51.0,33.0)
DEBUG RENDER: Rendering inline <span> at (87.0,33.0) size 27.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (87.0,33.0) size 27.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (87.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=27.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(87.0, 33.0, 27.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (100,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (87.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-0-N-shrink.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [249]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [250]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [251]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [252]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 194.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (65.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (193.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [253]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 192.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 64.0x96.0
  [1] Atomic: <span>, Size: 64.0x96.0
  [2] Atomic: <span>, Size: 64.0x96.0
  [3] Atomic: <span>, Size: 64.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 64.0x96.0
  Atomic box: X=1.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=65.0 Y=17.0 size 64.0x96.0
  Atomic box: X=65.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=129.0 Y=17.0 size 64.0x96.0
  Atomic box: X=129.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=193.0 Y=17.0 size 64.0x96.0
  Atomic box: X=193.0 Y=33.0 W=64.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 194.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 64.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (65.0,33.0) size 64.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG RENDER: Rendering inline <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG RENDER: Rendering inline <span> at (193.0,33.0) size 64.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-1-auto-shrink.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [254]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [255]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [256]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [257]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 258.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (65.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (193.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [258]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 256.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 64.0x96.0
  [1] Atomic: <span>, Size: 64.0x96.0
  [2] Atomic: <span>, Size: 64.0x96.0
  [3] Atomic: <span>, Size: 64.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 64.0x96.0
  Atomic box: X=1.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=65.0 Y=17.0 size 64.0x96.0
  Atomic box: X=65.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=129.0 Y=17.0 size 64.0x96.0
  Atomic box: X=129.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=193.0 Y=17.0 size 64.0x96.0
  Atomic box: X=193.0 Y=33.0 W=64.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 258.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 64.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (65.0,33.0) size 64.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG RENDER: Rendering inline <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG RENDER: Rendering inline <span> at (193.0,33.0) size 64.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-1-auto.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [259]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [260]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [261]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [262]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 80.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (41,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (81.0,33.0) size 80.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (81.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(81.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (121,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 80.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (201,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (241.0,33.0) size 80.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (81.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (161.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (241.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (81.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (161.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (241.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [263]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 80.0x96.0
  [1] Atomic: <span>, Size: 80.0x96.0
  [2] Atomic: <span>, Size: 80.0x96.0
  [3] Atomic: <span>, Size: 80.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 80.0x96.0
  Atomic box: X=1.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=81.0 Y=17.0 size 80.0x96.0
  Atomic box: X=81.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=161.0 Y=17.0 size 80.0x96.0
  Atomic box: X=161.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=241.0 Y=17.0 size 80.0x96.0
  Atomic box: X=241.0 Y=33.0 W=80.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 80.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 80.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (41,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (81.0,33.0) size 80.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (81.0,33.0) size 80.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (81.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(81.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (121,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (81.0,33.0)
DEBUG RENDER: Rendering inline <span> at (161.0,33.0) size 80.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 80.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (201,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (161.0,33.0)
DEBUG RENDER: Rendering inline <span> at (241.0,33.0) size 80.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (241.0,33.0) size 80.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (241.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-0-0.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [264]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [265]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [266]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [267]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (161.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (321.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (481.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [268]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 160.0x96.0
  [1] Atomic: <span>, Size: 160.0x96.0
  [2] Atomic: <span>, Size: 160.0x96.0
  [3] Atomic: <span>, Size: 160.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 160.0x96.0
  Atomic box: X=1.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=161.0 Y=17.0 size 160.0x96.0
  Atomic box: X=161.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=321.0 Y=17.0 size 160.0x96.0
  Atomic box: X=321.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=481.0 Y=17.0 size 160.0x96.0
  Atomic box: X=481.0 Y=33.0 W=160.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 160.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (161.0,33.0) size 160.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG RENDER: Rendering inline <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG RENDER: Rendering inline <span> at (481.0,33.0) size 160.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-0.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [269]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [270]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [271]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [272]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (161.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (321.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (481.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [273]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 160.0x96.0
  [1] Atomic: <span>, Size: 160.0x96.0
  [2] Atomic: <span>, Size: 160.0x96.0
  [3] Atomic: <span>, Size: 160.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 160.0x96.0
  Atomic box: X=1.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=161.0 Y=17.0 size 160.0x96.0
  Atomic box: X=161.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=321.0 Y=17.0 size 160.0x96.0
  Atomic box: X=321.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=481.0 Y=17.0 size 160.0x96.0
  Atomic box: X=481.0 Y=33.0 W=160.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 160.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (161.0,33.0) size 160.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG RENDER: Rendering inline <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG RENDER: Rendering inline <span> at (481.0,33.0) size 160.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-auto-shrink.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [274]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [275]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [276]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [277]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 258.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (65.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (193.0,33.0) size 64.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [278]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 256.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 64.0x96.0
  [1] Atomic: <span>, Size: 64.0x96.0
  [2] Atomic: <span>, Size: 64.0x96.0
  [3] Atomic: <span>, Size: 64.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 64.0x96.0
  Atomic box: X=1.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=65.0 Y=17.0 size 64.0x96.0
  Atomic box: X=65.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=129.0 Y=17.0 size 64.0x96.0
  Atomic box: X=129.0 Y=33.0 W=64.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=193.0 Y=17.0 size 64.0x96.0
  Atomic box: X=193.0 Y=33.0 W=64.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 258.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 64.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 64.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (33,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (65.0,33.0) size 64.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (65.0,33.0) size 64.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (65.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(65.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (97,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (65.0,33.0)
DEBUG RENDER: Rendering inline <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 64.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (161,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (129.0,33.0)
DEBUG RENDER: Rendering inline <span> at (193.0,33.0) size 64.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 64.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=64.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 64.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (225,81) = RGBA(128,128,128,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (193.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-auto.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [279]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [280]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [281]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [282]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (161.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (321.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (481.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [283]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 160.0x96.0
  [1] Atomic: <span>, Size: 160.0x96.0
  [2] Atomic: <span>, Size: 160.0x96.0
  [3] Atomic: <span>, Size: 160.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 160.0x96.0
  Atomic box: X=1.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=161.0 Y=17.0 size 160.0x96.0
  Atomic box: X=161.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=321.0 Y=17.0 size 160.0x96.0
  Atomic box: X=321.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=481.0 Y=17.0 size 160.0x96.0
  Atomic box: X=481.0 Y=33.0 W=160.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 160.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (161.0,33.0) size 160.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG RENDER: Rendering inline <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG RENDER: Rendering inline <span> at (481.0,33.0) size 160.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-N-N-N.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [284]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [285]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [286]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [287]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (161.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (321.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (481.0,33.0) size 160.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [288]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 160.0x96.0
  [1] Atomic: <span>, Size: 160.0x96.0
  [2] Atomic: <span>, Size: 160.0x96.0
  [3] Atomic: <span>, Size: 160.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 160.0x96.0
  Atomic box: X=1.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=161.0 Y=17.0 size 160.0x96.0
  Atomic box: X=161.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=321.0 Y=17.0 size 160.0x96.0
  Atomic box: X=321.0 Y=33.0 W=160.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=481.0 Y=17.0 size 160.0x96.0
  Atomic box: X=481.0 Y=33.0 W=160.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 160.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 160.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (81,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (161.0,33.0) size 160.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (161.0,33.0) size 160.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (161.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(161.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (241,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (161.0,33.0)
DEBUG RENDER: Rendering inline <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (321.0,33.0) size 160.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (321.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(321.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (401,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (321.0,33.0)
DEBUG RENDER: Rendering inline <span> at (481.0,33.0) size 160.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (481.0,33.0) size 160.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (481.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=160.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(481.0, 33.0, 160.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (561,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (481.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-auto.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [289]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [290]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [291]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [292]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='flex'>
DEBUG CSS: div id='flex' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [293]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 197.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [294]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 197.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [295]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 197.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [296]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 197.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 514.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (145.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (145.0,33.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (145.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(145.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (273.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (273.0,33.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (273.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(273.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (401.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (401.0,33.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (401.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(401.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (145.0,33.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (145.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (273.0,33.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (273.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (401.0,33.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (401.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (145.0,33.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (273.0,33.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (401.0,33.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 514.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (145.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (145.0,181.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (145.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(145.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (273.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (273.0,181.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (273.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(273.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (401.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (401.0,181.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (401.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(401.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (145.0,181.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (145.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (273.0,181.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (273.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (401.0,181.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (401.0,181.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,181.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (145.0,181.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (273.0,181.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (401.0,181.0) size 96.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [297]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 512.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 96.0x96.0
  [1] Atomic: <span>, Size: 96.0x96.0
  [2] Atomic: <span>, Size: 96.0x96.0
  [3] Atomic: <span>, Size: 96.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 96.0x96.0
  Atomic box: X=17.0 Y=33.0 W=96.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 96.0x96.0
  Atomic box: X=145.0 Y=33.0 W=96.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 96.0x96.0
  Atomic box: X=273.0 Y=33.0 W=96.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=385.0 Y=17.0 size 96.0x96.0
  Atomic box: X=401.0 Y=33.0 W=96.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [298]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 181.0, AvailableWidth: 512.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 96.0x96.0
  [1] Atomic: <span>, Size: 96.0x96.0
  [2] Atomic: <span>, Size: 96.0x96.0
  [3] Atomic: <span>, Size: 96.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=181.0 size 96.0x96.0
  Atomic box: X=17.0 Y=197.0 W=96.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=181.0 size 96.0x96.0
  Atomic box: X=145.0 Y=197.0 W=96.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=181.0 size 96.0x96.0
  Atomic box: X=273.0 Y=197.0 W=96.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=385.0 Y=181.0 size 96.0x96.0
  Atomic box: X=401.0 Y=197.0 W=96.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=181.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 514.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,33.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG RENDER: Rendering inline <span> at (145.0,33.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (145.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (145.0,33.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (145.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(145.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (145.0,33.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (145.0,33.0)
DEBUG RENDER: Rendering inline <span> at (273.0,33.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (273.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (273.0,33.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (273.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(273.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (273.0,33.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (273.0,33.0)
DEBUG RENDER: Rendering inline <span> at (401.0,33.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (401.0,33.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (401.0,33.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (401.0,33.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(401.0, 33.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (401.0,33.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (401.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 514.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,181.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG RENDER: Rendering inline <span> at (145.0,181.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (145.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (145.0,181.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (145.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(145.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (145.0,181.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (145.0,181.0)
DEBUG RENDER: Rendering inline <span> at (273.0,181.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (273.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (273.0,181.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (273.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(273.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (273.0,181.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (273.0,181.0)
DEBUG RENDER: Rendering inline <span> at (401.0,181.0) size 96.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (401.0,181.0) size 96.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (401.0,181.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (401.0,181.0) size 96.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=96.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(401.0, 181.0, 96.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (401.0,181.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (401.0,181.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-basis.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [299]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 27.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [300]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 25.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [301]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 37.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [302]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=1.0 + border.L=0.0 + pad.L=0.0) = box.X=1.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (1.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 28.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 130.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 128.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x12.0 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 128.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 24.0x12.0 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (257.0,33.0) size 128.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (257.0,33.0) size 36.0x12.0 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(257.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (385.0,33.0) size 128.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (385.0,33.0) size 27.0x12.0 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(385.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG TEXT: <> drawing textContent="two" at (129.0,33.0)
DEBUG TEXT: <> drawing textContent="three" at (257.0,33.0)
DEBUG TEXT: <> drawing textContent="four" at (385.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (1.0,33.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,33.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (257.0,33.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (385.0,33.0) size 128.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [303]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 128.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 128.0x96.0
  [1] Atomic: <span>, Size: 128.0x96.0
  [2] Atomic: <span>, Size: 128.0x96.0
  [3] Atomic: <span>, Size: 128.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 128.0x96.0
  Atomic box: X=1.0 Y=33.0 W=128.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=129.0 Y=17.0 size 128.0x96.0
  Atomic box: X=129.0 Y=33.0 W=128.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=257.0 Y=17.0 size 128.0x96.0
  Atomic box: X=257.0 Y=33.0 W=128.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=385.0 Y=17.0 size 128.0x96.0
  Atomic box: X=385.0 Y=33.0 W=128.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 130.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (1.0,33.0) size 128.0x96.0 bg=yellow border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (1.0,33.0) size 128.0x96.0 bg=yellow pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (1.0,33.0) size 26.0x19.2 bg=yellow
DEBUG COLOR: Parsed color for span: R=255 G=255 B=0 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=0.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(1.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (65,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="one" at (1.0,33.0)
DEBUG RENDER: Rendering inline <span> at (129.0,33.0) size 128.0x96.0 bg=pink border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 128.0x96.0 bg=pink pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 24.0x19.2 bg=pink
DEBUG COLOR: Parsed color for span: R=255 G=192 B=203 A=1.00
DEBUG RENDER: Setting color R=1.000 G=0.753 B=0.796 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (193,81) = RGBA(255,192,203,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="two" at (129.0,33.0)
DEBUG RENDER: Rendering inline <span> at (257.0,33.0) size 128.0x96.0 bg=lightblue border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (257.0,33.0) size 128.0x96.0 bg=lightblue pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (257.0,33.0) size 36.0x19.2 bg=lightblue
DEBUG COLOR: Parsed color for span: R=173 G=216 B=230 A=1.00
DEBUG RENDER: Setting color R=0.678 G=0.847 B=0.902 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(257.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (321,81) = RGBA(173,216,230,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="three" at (257.0,33.0)
DEBUG RENDER: Rendering inline <span> at (385.0,33.0) size 128.0x96.0 bg=grey border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (385.0,33.0) size 128.0x96.0 bg=grey pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (385.0,33.0) size 27.0x19.2 bg=grey
DEBUG COLOR: Parsed color for span: R=128 G=128 B=128 A=1.00
DEBUG RENDER: Setting color R=0.502 G=0.502 B=0.502 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=128.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(385.0, 33.0, 128.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (449,81) = RGBA(255,255,0,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG TEXT: <> drawing textContent="four" at (385.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-initial-2.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [304]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [305]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [306]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [307]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='flex'>
DEBUG CSS: div id='flex' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [308]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 197.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [309]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 197.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [310]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 197.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [311]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 197.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (57,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (129.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (169,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (241.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,33.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (241.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (353.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (353.0,33.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (353.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(353.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (393,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (129.0,33.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (129.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (241.0,33.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (241.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (353.0,33.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (353.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (241.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (353.0,33.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 642.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (57,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (129.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,181.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (129.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (169,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (241.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,181.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (241.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (353.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (353.0,181.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (353.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(353.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (393,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (129.0,181.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (129.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (241.0,181.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (241.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (353.0,181.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (353.0,181.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,181.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (129.0,181.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (241.0,181.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (353.0,181.0) size 80.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [312]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 80.0x96.0
  [1] Atomic: <span>, Size: 80.0x96.0
  [2] Atomic: <span>, Size: 80.0x96.0
  [3] Atomic: <span>, Size: 80.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 80.0x96.0
  Atomic box: X=17.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=113.0 Y=17.0 size 80.0x96.0
  Atomic box: X=129.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=225.0 Y=17.0 size 80.0x96.0
  Atomic box: X=241.0 Y=33.0 W=80.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=337.0 Y=17.0 size 80.0x96.0
  Atomic box: X=353.0 Y=33.0 W=80.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [313]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 181.0, AvailableWidth: 640.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 80.0x96.0
  [1] Atomic: <span>, Size: 80.0x96.0
  [2] Atomic: <span>, Size: 80.0x96.0
  [3] Atomic: <span>, Size: 80.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=181.0 size 80.0x96.0
  Atomic box: X=17.0 Y=197.0 W=80.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=113.0 Y=181.0 size 80.0x96.0
  Atomic box: X=129.0 Y=197.0 W=80.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=225.0 Y=181.0 size 80.0x96.0
  Atomic box: X=241.0 Y=197.0 W=80.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=337.0 Y=181.0 size 80.0x96.0
  Atomic box: X=353.0 Y=197.0 W=80.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=181.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,33.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (57,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG RENDER: Rendering inline <span> at (129.0,33.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,33.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (129.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (169,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (129.0,33.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (129.0,33.0)
DEBUG RENDER: Rendering inline <span> at (241.0,33.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (241.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,33.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (241.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (241.0,33.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (241.0,33.0)
DEBUG RENDER: Rendering inline <span> at (353.0,33.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (353.0,33.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (353.0,33.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (353.0,33.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(353.0, 33.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (393,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (353.0,33.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (353.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 642.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,181.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (57,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG RENDER: Rendering inline <span> at (129.0,181.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (129.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (129.0,181.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (129.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(129.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (169,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (129.0,181.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (129.0,181.0)
DEBUG RENDER: Rendering inline <span> at (241.0,181.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (241.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (241.0,181.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (241.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(241.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (281,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (241.0,181.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (241.0,181.0)
DEBUG RENDER: Rendering inline <span> at (353.0,181.0) size 80.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (353.0,181.0) size 80.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (353.0,181.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (353.0,181.0) size 80.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=80.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(353.0, 181.0, 80.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (393,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (353.0,181.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (353.0,181.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/flexbox_flex-initial.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [314]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 33.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [315]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 33.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [316]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 33.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [317]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 33.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 33.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 33.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=33.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='flex'>
DEBUG CSS: div id='flex' position=static
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [318]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("one"), Size: 26.0x12.0
       Text: "one"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("one")

[Fragment 0] 0: TEXT("one")
  Fragment Position: (0.0, 197.0), Size: 26.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "one"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 43.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [319]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("two"), Size: 24.0x12.0
       Text: "two"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("two")

[Fragment 0] 0: TEXT("two")
  Fragment Position: (0.0, 197.0), Size: 24.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "two"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 41.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [320]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("three"), Size: 36.0x12.0
       Text: "three"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("three")

[Fragment 0] 0: TEXT("three")
  Fragment Position: (0.0, 197.0), Size: 36.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "three"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 53.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG: Multi-pass triggered for <span> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [321]: LayoutInlineContentToBoxes ===
Container: <span>, StartY: 197.0, AvailableWidth: 80.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("four"), Size: 27.0x12.0
       Text: "four"
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=17.0 + border.L=0.0 + pad.L=0.0) = box.X=17.0 for TEXT("four")

[Fragment 0] 0: TEXT("four")
  Fragment Position: (0.0, 197.0), Size: 27.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "four"
  Final Box Position: (17.0, 197.0), currentLineMaxH: 19.2
  Updated currentX: 44.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=197.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 354.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (45,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (105.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (105.0,33.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (105.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(105.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (133,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (193.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (221,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (281.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (281.0,33.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (281.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(281.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (309,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (105.0,33.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (105.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (193.0,33.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (193.0,33.0)
DEBUG WHITE: Drawing WHITE background for <> at (281.0,33.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (281.0,33.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,33.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (105.0,33.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (193.0,33.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (281.0,33.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 354.0x130.0 bg=blue pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (4 elements) ===
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (45,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (105.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (105.0,181.0) size 24.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (105.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(105.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (133,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (193.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,181.0) size 36.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (193.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (221,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG DRAW: Drawing <span> at (281.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (281.0,181.0) size 27.0x12.0 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (281.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(281.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (309,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (4 elements) ===
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x12.0
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (105.0,181.0) size 24.0x12.0
DEBUG TEXT: <> drawing textContent="two" at (105.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (193.0,181.0) size 36.0x12.0
DEBUG TEXT: <> drawing textContent="three" at (193.0,181.0)
DEBUG WHITE: Drawing WHITE background for <> at (281.0,181.0) size 27.0x12.0
DEBUG TEXT: <> drawing textContent="four" at (281.0,181.0)
=== STEP 5 continued: Block content (4 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <span> at (17.0,181.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (105.0,181.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (193.0,181.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG BLOCK CONTENT: Drawing content for <span> at (281.0,181.0) size 56.0x96.0
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [322]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 17.0, AvailableWidth: 352.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 56.0x96.0
  [1] Atomic: <span>, Size: 56.0x96.0
  [2] Atomic: <span>, Size: 56.0x96.0
  [3] Atomic: <span>, Size: 56.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=17.0 size 56.0x96.0
  Atomic box: X=17.0 Y=33.0 W=56.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=89.0 Y=17.0 size 56.0x96.0
  Atomic box: X=105.0 Y=33.0 W=56.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=177.0 Y=17.0 size 56.0x96.0
  Atomic box: X=193.0 Y=33.0 W=56.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=265.0 Y=17.0 size 56.0x96.0
  Atomic box: X=281.0 Y=33.0 W=56.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=17.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG: Multi-pass triggered for <div> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [323]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 181.0, AvailableWidth: 352.0
Children count: 4

=== PHASE 1: Collected 4 items ===
  [0] Atomic: <span>, Size: 56.0x96.0
  [1] Atomic: <span>, Size: 56.0x96.0
  [2] Atomic: <span>, Size: 56.0x96.0
  [3] Atomic: <span>, Size: 56.0x96.0
=== END PHASE 1 ===

Fragments created: 4

[Fragment 0] Atomic inline-block: <span> at X=1.0 Y=181.0 size 56.0x96.0
  Atomic box: X=17.0 Y=197.0 W=56.0 H=96.0 children=1

[Fragment 1] Atomic inline-block: <span> at X=89.0 Y=181.0 size 56.0x96.0
  Atomic box: X=105.0 Y=197.0 W=56.0 H=96.0 children=1

[Fragment 2] Atomic inline-block: <span> at X=177.0 Y=181.0 size 56.0x96.0
  Atomic box: X=193.0 Y=197.0 W=56.0 H=96.0 children=1

[Fragment 3] Atomic inline-block: <span> at X=265.0 Y=181.0 size 56.0x96.0
  Atomic box: X=281.0 Y=197.0 W=56.0 H=96.0 children=1

Total boxes created: 4
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=181.0, currentLineMaxH=96.0, lastFinalizedH=0.0, finalH=96.0, boxes=4
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=16.0, collapsed=16.0, adjustment=16.0
DEBUG COLLAPSE: box.Y before=180.0, after=164.0
DEBUG adjustChildrenY: div delta=-16.0, 4 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
  Adjusted span child from Y=197.0 to Y=181.0
DEBUG adjustChildrenY: span delta=-16.0, 1 children
DEBUG DRAW: Drawing <div> at (0.0,16.0) size 354.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,33.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,33.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (45,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,33.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,33.0)
DEBUG RENDER: Rendering inline <span> at (105.0,33.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (105.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (105.0,33.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (105.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(105.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (133,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (105.0,33.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (105.0,33.0)
DEBUG RENDER: Rendering inline <span> at (193.0,33.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (193.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,33.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (193.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (221,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (193.0,33.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (193.0,33.0)
DEBUG RENDER: Rendering inline <span> at (281.0,33.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (281.0,33.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (281.0,33.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (281.0,33.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=33.0, effectiveY=33.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(281.0, 33.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (309,81) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (281.0,33.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (281.0,33.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,164.0) size 354.0x130.0 bg=blue pos=static z=auto
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
DEBUG COLLECT: Adding span to inlines collection
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (8 elements) ===
DEBUG RENDER: Rendering inline <span> at (17.0,181.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (17.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (17.0,181.0) size 26.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (17.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(17.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (45,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (17.0,181.0) size 26.0x19.2
DEBUG TEXT: <> drawing textContent="one" at (17.0,181.0)
DEBUG RENDER: Rendering inline <span> at (105.0,181.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (105.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (105.0,181.0) size 24.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (105.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(105.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (133,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (105.0,181.0) size 24.0x19.2
DEBUG TEXT: <> drawing textContent="two" at (105.0,181.0)
DEBUG RENDER: Rendering inline <span> at (193.0,181.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (193.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (193.0,181.0) size 36.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (193.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(193.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (221,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (193.0,181.0) size 36.0x19.2
DEBUG TEXT: <> drawing textContent="three" at (193.0,181.0)
DEBUG RENDER: Rendering inline <span> at (281.0,181.0) size 56.0x96.0 bg=white border=
DEBUG RENDER:   Box.Padding=0.0/0.0/0.0/0.0  Box.Border=0.0/0.0/0.0/0.0
DEBUG DRAW: Drawing <span> at (281.0,181.0) size 56.0x96.0 bg=white pos=static z=auto
DEBUG DRAW:   Child[0]: <> at (281.0,181.0) size 27.0x19.2 bg=white
DEBUG WHITE: Drawing WHITE background for <span> at (281.0,181.0) size 56.0x96.0
DEBUG COLOR: Parsed color for span: R=255 G=255 B=255 A=1.00
DEBUG RENDER: Setting color R=1.000 G=1.000 B=1.000 A=1.00
DEBUG COORDS: box.Y=181.0, effectiveY=181.0, scrollY=0.0
DEBUG SIZE: bgWidth=56.0, bgHeight=96.0 (check: true)
DEBUG PRE-DRAW: About to call DrawRectangle(281.0, 181.0, 56.0, 96.0)
DEBUG PRE-DRAW: Current gg context color should be G=0.502
DEBUG PRE-FILL: About to call Fill()
DEBUG DRAW BG: Finished Fill
DEBUG PIXEL: After Fill, pixel at (309,229) = RGBA(255,255,255,255)
DEBUG BG-IMG: drawBackgroundImage called for span
DEBUG BG-IMG: No background-image, returning early
DEBUG CONTENT: drawBoxContent for span
DEBUG CONTENT: About to call drawText for span
DEBUG CONTENT: Finished drawText for span
DEBUG WHITE: Drawing WHITE background for <> at (281.0,181.0) size 27.0x19.2
DEBUG TEXT: <> drawing textContent="four" at (281.0,181.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST PASS (160000 pixels, max diff: 0)
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content-001.htm
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [324]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 324][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [325]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 325][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [326]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 325][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [327]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [328]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 300.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=151.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x170.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 170.4 (margin.Top=0.0 + height=170.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 170.4
  Reset currentX to left edge: 0.0, currentLineY updated to 170.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=170.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x100.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (74.0,51.2) size 76.0x100.0 bg=blue pos=static z=auto
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 76.0x100.0 bg=orange pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x170.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 300.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (74.0,51.2) size 76.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (150.0,51.2) size 76.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <meta>
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <body>
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [329]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 329][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [330]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 329][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [331]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

[Call 329][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 151.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=151.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='orange'>
DEBUG CSS: div id='orange' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG LAYOUT POS: div#orange relative offset applied: (0.0,151.2) -> (150.0,51.2)
DEBUG LAYOUT POS:   div#orange has background-color=orange at final Y=51.2

=== MULTI-PASS [332]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (150.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 151.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=251.2, setting box.Height=251.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 150.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 150.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 150.0x100.0 bg=orange pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 14162/160000 pixels differ (8.9%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content-001_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content-002.htm
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [333]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 333][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [334]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 334][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [335]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 334][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [336]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 75.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [337]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 75.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 300.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=151.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x170.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 170.4 (margin.Top=0.0 + height=170.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 170.4
  Reset currentX to left edge: 0.0, currentLineY updated to 170.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=170.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x100.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 75.0x100.0 bg=blue pos=static z=auto
DEBUG DRAW: Drawing <div> at (75.0,51.2) size 75.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x170.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 300.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 75.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (75.0,51.2) size 75.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <meta>
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <body>
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [338]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 338][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [339]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 338][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [340]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

[Call 338][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 151.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=151.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='orange'>
DEBUG CSS: div id='orange' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG LAYOUT POS: div#orange relative offset applied: (0.0,151.2) -> (150.0,51.2)
DEBUG LAYOUT POS:   div#orange has background-color=orange at final Y=51.2

=== MULTI-PASS [341]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (150.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 151.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=251.2, setting box.Height=251.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 150.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 150.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 150.0x100.0 bg=orange pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 14356/160000 pixels differ (9.0%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content-002_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content-003.htm
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [342]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 342][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [343]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 343][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [344]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 343][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [345]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 75.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [346]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 75.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 300.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=151.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x170.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 170.4 (margin.Top=0.0 + height=170.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 170.4
  Reset currentX to left edge: 0.0, currentLineY updated to 170.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=170.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x100.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 75.0x100.0 bg=orange pos=static z=auto
DEBUG DRAW: Drawing <div> at (225.0,51.2) size 75.0x100.0 bg=orange pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x170.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 300.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (150.0,51.2) size 75.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (225.0,51.2) size 75.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <meta>
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <body>
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [347]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 347][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [348]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 347][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [349]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

[Call 347][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 151.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=151.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='orange'>
DEBUG CSS: div id='orange' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG LAYOUT POS: div#orange relative offset applied: (0.0,151.2) -> (150.0,51.2)
DEBUG LAYOUT POS:   div#orange has background-color=orange at final Y=51.2

=== MULTI-PASS [350]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (150.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 151.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=251.2, setting box.Height=251.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 150.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 150.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 150.0x100.0 bg=orange pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 14550/160000 pixels differ (9.1%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content-003_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content-004.htm
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [351]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 351][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [352]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 352][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [353]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 352][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [354]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [355]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 300.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=151.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x170.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 170.4 (margin.Top=0.0 + height=170.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 170.4
  Reset currentX to left edge: 0.0, currentLineY updated to 170.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=170.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x100.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 76.0x100.0 bg=blue pos=static z=auto
DEBUG DRAW: Drawing <div> at (224.0,51.2) size 76.0x100.0 bg=orange pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x170.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 300.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 76.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (224.0,51.2) size 76.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <meta>
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <body>
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [356]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 356][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [357]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 356][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [358]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

[Call 356][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 151.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=151.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='orange'>
DEBUG CSS: div id='orange' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG LAYOUT POS: div#orange relative offset applied: (0.0,151.2) -> (150.0,51.2)
DEBUG LAYOUT POS:   div#orange has background-color=orange at final Y=51.2

=== MULTI-PASS [359]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (150.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 151.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=251.2, setting box.Height=251.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 150.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 150.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 150.0x100.0 bg=orange pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 14356/160000 pixels differ (9.0%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content-004_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content-005.htm
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <html>

=== MULTI-PASS [360]: LayoutInlineContentToBoxes ===
Container: <html>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <body> (display=block)

=== PHASE 1: Collected 1 items ===
  [0] BlockChild: <body>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 1

[Call 360][Fragment 0] BlockChild: <body>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [361]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 2
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=flex)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 361][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [362]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 361][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='flexbox'>
DEBUG CSS: div id='flexbox' position=static
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [363]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [364]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 76.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 300.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=151.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 2 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 0.0) size 400.0x170.4
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 170.4 (margin.Top=0.0 + height=170.4 + margin.Bottom=0.0), Advancing currentY: 0.0 → 170.4
  Reset currentX to left edge: 0.0, currentLineY updated to 170.4

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=170.4, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=170.4, setting box.Height=170.4 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (5 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 300.0x100.0 bg= pos=static z=auto
DEBUG DRAW: Drawing <div> at (37.0,51.2) size 76.0x100.0 bg=blue pos=static z=auto
DEBUG DRAW: Drawing <div> at (187.0,51.2) size 76.0x100.0 bg=orange pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (5 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <body> at (0.0,0.0) size 400.0x170.4
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 300.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (37.0,51.2) size 76.0x100.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (187.0,51.2) size 76.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <meta>
DEBUG LAYOUT LOOP: Processing <title>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <body>
DEBUG MULTIPASS CHECK: useMultiPass=true, didAnalyze=true, canUse=true

=== MULTI-PASS [365]: LayoutInlineContentToBoxes ===
Container: <body>, StartY: 0.0, AvailableWidth: 400.0
Children count: 3
  [CollectItems] Found block child: <p> (display=block)
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 3 items ===
  [0] BlockChild: <p>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
  [2] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 3

[Call 365][Fragment 0] BlockChild: <p>
  Fragment Y: 0.0, CurrentY (after line finalize): 0.0
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=0.0, availWidth=400.0)...
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [366]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 997.0x12.0
       Text: "Test passes if there is a sing..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 997.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a sing..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 997.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
  Result: Box at (0.0, 16.0) size 400.0x19.2
  Margins: T=16.0 R=0.0 B=16.0 L=0.0
  [Fragment 0] TotalHeight: 51.2 (margin.Top=16.0 + height=19.2 + margin.Bottom=16.0), Advancing currentY: 0.0 → 51.2
  Reset currentX to left edge: 0.0, currentLineY updated to 51.2

[Call 365][Fragment 1] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='blue'>
DEBUG CSS: div id='blue' position=static

=== MULTI-PASS [367]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 151.2
  Reset currentX to left edge: 0.0, currentLineY updated to 151.2

[Call 365][Fragment 2] BlockChild: <div>
  Fragment Y: 0.0, CurrentY (after line finalize): 151.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=151.2, availWidth=400.0)...
DEBUG LAYOUT START: layoutNode called for <div id='orange'>
DEBUG CSS: div id='orange' position=relative
DEBUG LAYOUT POS2: div position=relative (relative)
DEBUG LAYOUT POS: div#orange relative offset applied: (0.0,151.2) -> (150.0,51.2)
DEBUG LAYOUT POS:   div#orange has background-color=orange at final Y=51.2

=== MULTI-PASS [368]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 150.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (150.0, 51.2) size 150.0x100.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 2] TotalHeight: 100.0 (margin.Top=0.0 + height=100.0 + margin.Bottom=0.0), Advancing currentY: 151.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

Total boxes created: 3
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=3
DEBUG MULTIPASS COLLAPSE: prev=p, curr=div, prevBottom=16.0, currTop=0.0, collapsed=16.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG AUTO-HEIGHT: Final maxBottom=251.2, setting box.Height=251.2 (maxBottom + padding 0.0 + borders 0.0)
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (2 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 150.0x100.0 bg=blue pos=static z=auto
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a single blue rectangle on the left, a single orange rectangle directly to its right, and there is no red visible on the page." at (0.0,16.0)
=== STEP 5 continued: Block content (2 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <p> at (0.0,16.0) size 400.0x19.2
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,51.2) size 150.0x100.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (150.0,51.2) size 150.0x100.0 bg=orange pos=relative z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 14162/160000 pixels differ (8.9%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content-005_*.png
=== RUN   TestWPTCSS3Reftests/css-flexbox/justify-content_space-between-003.tentative.html
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <p>
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [369]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 307.0x12.0
       Text: "Test passes if there is a fill..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 307.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a fill..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 307.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [370]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 100.0
Children count: 2
  [CollectItems] Found block child: <div> (display=block)
  [CollectItems] Found block child: <div> (display=block)

=== PHASE 1: Collected 2 items ===
  [0] BlockChild: <div>, Size: 0.0x0.0
  [1] BlockChild: <div>, Size: 0.0x0.0
=== END PHASE 1 ===

Fragments created: 2

[Call 370][Fragment 0] BlockChild: <div>
  Fragment Y: 51.2, CurrentY (after line finalize): 51.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=51.2, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [371]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 200.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT END: red div returning with Y=51.2
  Result: Box at (0.0, 51.2) size 200.0x200.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 0] TotalHeight: 200.0 (margin.Top=0.0 + height=200.0 + margin.Bottom=0.0), Advancing currentY: 51.2 → 251.2
  Reset currentX to left edge: 0.0, currentLineY updated to 251.2

[Call 370][Fragment 1] BlockChild: <div>
  Fragment Y: 51.2, CurrentY (after line finalize): 251.2
  Calculated childX: 0.0 (container.X=0.0 + border=0.0 + padding=0.0 + relOff=0.0)
  Calling layoutNode(x=0.0, y=251.2, availWidth=100.0)...
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [372]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 251.2, AvailableWidth: 100.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=251.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
  Result: Box at (0.0, 251.2) size 100.0x50.0
  Margins: T=0.0 R=0.0 B=0.0 L=0.0
  [Fragment 1] TotalHeight: 50.0 (margin.Top=0.0 + height=50.0 + margin.Bottom=0.0), Advancing currentY: 251.2 → 301.2
  Reset currentX to left edge: 0.0, currentLineY updated to 301.2

Total boxes created: 2
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=301.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=2
DEBUG MULTIPASS COLLAPSE: prev=div, curr=div, prevBottom=0.0, currTop=0.0, collapsed=0.0, adjustment=0.0, cumulative=0.0
DEBUG adjustChildrenY: div delta=-0.0, 0 children
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [373]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 101.2, AvailableWidth: 200.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=101.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG LAYOUT END: red div returning with Y=101.2
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [374]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 101.2, AvailableWidth: 100.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=101.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a filled green square." at (0.0,16.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 100.0x50.0 bg= pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (0.0,-198.8) size 100.0x300.0 bg= pos=static z=auto
DEBUG RENDER Y: red div box.Y=-198.8 effectiveY=-198.8 scrollY=0.0
DEBUG DRAW: Drawing <div> at (0.0,-198.8) size 200.0x200.0 bg=red pos=static z=auto
DEBUG DRAW: Drawing <div> at (0.0,1.2) size 100.0x50.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140001cc640 tagName='div' pos=(0.0,1.2) size=100.0x50.0
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,-198.8) size 100.0x300.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,-198.8) size 200.0x200.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (0.0,1.2) size 100.0x50.0
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,101.2) size 100.0x50.0 bg= pos=static z=auto
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (3 elements) ===
DEBUG DRAW: Drawing <div> at (-100.0,101.2) size 200.0x50.0 bg= pos=static z=auto
DEBUG RENDER Y: red div box.Y=101.2 effectiveY=101.2 scrollY=0.0
DEBUG DRAW: Drawing <div> at (-100.0,101.2) size 200.0x50.0 bg=red pos=static z=auto
DEBUG DRAW: Drawing <div> at (100.0,101.2) size 100.0x50.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140001ccb40 tagName='div' pos=(100.0,101.2) size=100.0x50.0
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (3 elements) ===
DEBUG BLOCK CONTENT: Drawing content for <div> at (-100.0,101.2) size 200.0x50.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (-100.0,101.2) size 200.0x50.0
DEBUG BLOCK CONTENT: Drawing content for <div> at (100.0,101.2) size 100.0x50.0
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
DEBUG: Layout() called - code is running!
DEBUG LAYOUT LOOP: Processing <link>
DEBUG LAYOUT LOOP: Processing <p>
DEBUG: Multi-pass triggered for <p> (floats=false, blockChild=false, inlineChild=true)

=== MULTI-PASS [375]: LayoutInlineContentToBoxes ===
Container: <p>, StartY: 16.0, AvailableWidth: 400.0
Children count: 1

=== PHASE 1: Collected 1 items ===
  [0] Text: TEXT("Test passes if there..."), Size: 307.0x12.0
       Text: "Test passes if there is a fill..."
=== END PHASE 1 ===

Fragments created: 1

DEBUG BOXPOS: frag.Pos.X=0.0 + container(X=0.0 + border.L=0.0 + pad.L=0.0) = box.X=0.0 for TEXT("Test passes if there...")

[Fragment 0] 0: TEXT("Test passes if there...")
  Fragment Position: (0.0, 16.0), Size: 307.0x12.0
  Box.Height=12.0, content=0.0, lineBox=0.0
  Line metrics: content=12.0, lineBox=19.2, effective=19.2, hasContent=true
  Text: "Test passes if there is a fill..."
  Final Box Position: (0.0, 16.0), currentLineMaxH: 19.2
  Updated currentX: 307.0

Total boxes created: 1
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=16.0, currentLineMaxH=19.2, lastFinalizedH=0.0, finalH=19.2, boxes=1
DEBUG AUTO-HEIGHT: Final maxBottom=19.2, setting box.Height=19.2 (maxBottom + padding 0.0 + borders 0.0)
DEBUG LAYOUT LOOP: Processing <div>
DEBUG LAYOUT START: layoutNode called for <div id='(no id)'>
DEBUG CSS: div id='(no id)' position=static

=== MULTI-PASS [376]: LayoutInlineContentToBoxes ===
Container: <div>, StartY: 51.2, AvailableWidth: 100.0
Children count: 0

=== PHASE 1: Collected 0 items ===
=== END PHASE 1 ===

Fragments created: 0

Total boxes created: 0
=== END MULTI-PASS ===

DEBUG: Returning InlineLayoutResult: currentY=51.2, currentLineMaxH=0.0, lastFinalizedH=0.0, finalH=0.0, boxes=0
DEBUG COLLAPSE: prevBox.MarginBottom=16.0, box.MarginTop=0.0, collapsed=16.0, adjustment=0.0
DEBUG COLLAPSE: box.Y before=51.2, after=51.2
DEBUG adjustChildrenY: div delta=-0.0, 0 children
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (1 elements) ===
DEBUG TEXT: <> drawing textContent="Test passes if there is a filled green square." at (0.0,16.0)
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG DRAW: Drawing <div> at (0.0,51.2) size 100.0x100.0 bg=green pos=static z=auto
GREEN BACKGROUND: box 0x140001cc140 tagName='div' pos=(0.0,51.2) size=100.0x100.0
=== STEP 2: Negative Z (0 elements) ===
=== STEP 3: Blocks (0 elements) ===
=== STEP 4: Floats (0 elements) ===
=== STEP 5: Inlines (0 elements) ===
=== STEP 5 continued: Block content (0 elements) ===
=== STEP 5 continued: Box own content ===
DEBUG FINAL: Before SavePNG, pixel at (250,335) = RGBA(255,255,255,255)
    reftest_runner_test.go:135: REFTEST FAIL: 19902/160000 pixels differ (12.4%, max diff: 255)
    reftest_runner_test.go:135:   saved to output/reftests/justify-content_space-between-003.tentative_*.png
=== CONT  TestWPTCSS3Reftests
    reftest_runner_test.go:143: Summary: 37/59 passed, 8 failed
--- FAIL: TestWPTCSS3Reftests (0.88s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/css-box-justify-content.html (0.03s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/css-flexbox-row.html (0.02s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/css-flexbox-test1.html (0.03s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flex-grow-001.xht (0.01s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox-column-row-gap-001.html (0.01s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox-flex-wrap-horiz-001.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox-flex-wrap-horiz-002.html (0.01s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-001a.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-001b.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-002.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-003.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-004.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-005.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-horiz-006.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-001a.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-001b.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-002.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-003.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-004.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-005.xhtml (0.00s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/flexbox-justify-content-vert-006.xhtml (0.00s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-center.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-flexend.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-flexstart.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-spacearound.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-spacebetween.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-content-stretch.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-center.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-flexend.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-flexstart.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-items-stretch.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-auto.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-center.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-flexend.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-flexstart.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_align-self-stretch.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_direction-column-reverse.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_direction-column.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_direction-row-reverse.html (0.03s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_display.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-0-0.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-0-N-shrink.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-1-auto-shrink.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-0-1-auto.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-0-0.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-0.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-auto-shrink.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-1-1-auto.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-N-N-N.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-auto.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-basis.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-initial-2.html (0.02s)
    --- PASS: TestWPTCSS3Reftests/css-flexbox/flexbox_flex-initial.html (0.02s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content-001.htm (0.02s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content-002.htm (0.03s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content-003.htm (0.03s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content-004.htm (0.02s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content-005.htm (0.02s)
    --- FAIL: TestWPTCSS3Reftests/css-flexbox/justify-content_space-between-003.tentative.html (0.03s)
FAIL
exit status 1
FAIL	louis14/pkg/visualtest	1.141s
